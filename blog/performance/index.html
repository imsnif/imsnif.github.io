<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Improving the Performance of our Rust app :: poor.dev</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="A writeup of our journey to improve the performance of Zellij"/>
<meta name="keywords" content="Rust, Rustlang, terminal, zellij, performance"/>
<meta name="robots" content="noodp"/>

<link rel="canonical" href="https://poor.dev/blog/performance/" />


<link rel="stylesheet" href="https://poor.dev/style.css">


<link rel="stylesheet" href="https://poor.dev/assets/style.css">

  <link rel="stylesheet" href="https://poor.dev/assets/green.css">





<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://poor.dev/img/apple-touch-icon-144-precomposed.png">

<link rel="shortcut icon" href="https://poor.dev/favicon.ico">



<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Improving the Performance of our Rust app " />
<meta name="twitter:description" content="A writeup of our journey to improve the performance of Zellij" />
<meta name="twitter:site" content="https://poor.dev/" />
<meta name="twitter:creator" content="Aram Drevekenin" />
<meta name="twitter:image" content="https://poor.dev/img/performance/cover.png">
<meta name="twitter:image:alt" content="A writeup of our journey to improve the performance of Zellij">
<meta name="twitter:image:width" content="1200">
<meta name="twitter:image:height" content="630">


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Improving the Performance of our Rust app ">
<meta property="og:description" content="A writeup of our journey to improve the performance of Zellij" />
<meta property="og:url" content="https://poor.dev/blog/performance/" />
<meta property="og:site_name" content="Improving the Performance of our Rust app" />
<meta property="og:image" content="https://poor.dev/img/performance/cover.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="A writeup of our journey to improve the performance of Zellij"/>

<meta property="article:published_time" content="2021-07-18 09:00:00 &#43;0200 CEST" />











</head>
<body class="">


<div class="container center">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    poor.dev
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/blog/">Blog</a></li>
        
      
        
          <li><a href="/external_work/">External Work</a></li>
        
      
        
          <li><a href="https://github.com/imsnif">GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/aram-drevekenin-b620235b/">LinkedIn</a></li>
        
      
        
          <li><a href="mailto:aram@poor.dev">Contact</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/blog/">Blog</a></li>
      
    
      
        <li><a href="/external_work/">External Work</a></li>
      
    
      
        <li><a href="https://github.com/imsnif">GitHub</a></li>
      
    
      
        <li><a href="https://www.linkedin.com/in/aram-drevekenin-b620235b/">LinkedIn</a></li>
      
    
      
        <li><a href="mailto:aram@poor.dev">Contact</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://poor.dev/blog/performance/">Improving the Performance of our Rust app</a></h1>
  <div class="post-meta">
      
    <span class="post-date">
      2021-07-18
    </span>
    
    
    <span class="post-authorr">::
      <a href="https://hachyderm.io/@imsnif">Aram Drevekenin</a>
    </span>
    
  </div>

  

  
  
  <img src="https://poor.dev/img/performance/cover.png" class="post-cover" alt="Rust performance thread diagram"/>
  
  

  <div class="post-content">
    <p>During the past couple of months, we&rsquo;ve been going through the process of troubleshooting and improving the performance of <a href="https://github.com/zellij-org/zellij"><code>Zellij</code></a>. During the course of our work, we found several issues and bottlenecks, and had to find some creative solutions in order to solve or get around them.</p>
<p>In this post I&rsquo;ll describe and illustrate the two main points we&rsquo;ve recently solved, which brought the app&rsquo;s performance to be on par - and sometimes even exceed - that of similar apps.</p>
<p>This was a joint effort of both the Zellij maintainers and contributors from the community. Please see &ldquo;Credits&rdquo; below for more details.</p>
<h3 id="a-note-about-code-samples"><em>A note about code samples</em></h3>
<p>The code samples in this post are simplified versions there to illustrate the examples we&rsquo;re talking about. Because Zellij is a functioning application, the actual code tends to be more involved and include details that would be confusing if included verbatim. In each code sample provided here, I also provide a link to the real world version for those who&rsquo;d like to go deeper.</p>
<p>The &ldquo;Links&rdquo; section below also contains direct links to the pull requests implementing the changes discussed in this post.</p>
<h1 id="application-and-problem-description">Application and problem description</h1>
<p><img alt="multiplexer architecture diagram - this is a visualization of what&rsquo;s explained below" src="/img/performance/multiplexer.png"></p>
<p>Zellij is a terminal multiplexer.
In simplified terms, it&rsquo;s an application running &ldquo;between&rdquo; your <a href="https://poor.dev/blog/terminal-anatomy/">terminal emulator</a> (eg. Alacritty, iterm2, Konsole, etc.) and shell.</p>
<p>It allows you to create several &ldquo;tabs&rdquo; and &ldquo;panes&rdquo;, as well as close your terminal emulator and later re-attach to the same session from a new window as long as Zellij keeps running in the background.</p>
<p>Zellij keeps the state of every terminal pane in order to be able to recreate it every time a user connects to an existing session, or even switches between tabs internally. This state includes the text and styling of the pane and the cursor position inside the pane.</p>
<p>The performance issue could be seen most strongly when displaying large amounts of data inside a Zellij pane. For example, <code>cat</code>ing a very large file. In Zellij this would be slow compared not only to a bare terminal emulator, but also compared to other terminal multiplexers.</p>
<p>Let&rsquo;s dive in to this flow, find the performance pitfalls and talk about how we fixed them.</p>
<h1 id="the-problematic-flow">The problematic flow</h1>
<p>We use a multi-threaded architecture, with each main thread performing a specific task and communicating with the other thread through an <a href="https://doc.rust-lang.org/std/sync/mpsc/fn.channel.html">MPSC channel</a>. The data parsing and rendering flow we&rsquo;re discussing includes the <code>PTY thread</code> and the <code>Screen thread</code>.</p>
<p>The <code>PTY thread</code> queries the <a href="https://man7.org/linux/man-pages/man7/pty.7.html">pty</a> which is our interface to the shell (or other program running inside the terminal), and sends the raw data to the <code>Screen thread</code>. That thread parses the data and builds up the internal state of the relevant terminal pane.</p>
<p>Once in a while, the <code>PTY thread</code> decides it is time to render the state of the terminal to the user&rsquo;s screen and sends a <code>render</code> message to the screen thread.</p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/ScrollTrigger.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/TextPlugin.min.js"></script>
<div data-nosnippet>
  <figure style="display: block">
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   class="performance1"
   max-width="785.70197"
   max-height="297.42804"
   viewBox="0 0 207.88365 78.694499"
   version="1.1"
   class="svg17123"
   sodipodi:docname="performance-1.svg"
   inkscape:version="1.1 (c4e8f9ed74, 2021-05-24)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:dc="http://purl.org/dc/elements/1.1/">
  <sodipodi:namedview
     class="namedview1492"
     pagecolor="#505050"
     bordercolor="#eeeeee"
     borderopacity="1"
     inkscape:pageshadow="0"
     inkscape:pageopacity="0"
     inkscape:pagecheckerboard="0"
     inkscape:document-units="px"
     showgrid="false"
     inkscape:zoom="1"
     inkscape:cx="307"
     inkscape:cy="121.5"
     inkscape:window-width="1890"
     inkscape:window-height="1006"
     inkscape:window-x="1934"
     inkscape:window-y="36"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg17123"
     inkscape:snap-global="true"
     units="px"
     width="786.00201px"
     inkscape:snap-bbox="true"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0" />
  <defs
     class="defs17117" />
  <metadata
     class="metadata17120">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <rect
     style="display:inline;opacity:0.95904;fill:#232425;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.449792;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2025-7-8-3-9-2-0-20-8"
     width="207.43385"
     height="78.244713"
     x="0.22489583"
     y="0.22489583" />
  <rect
     style="opacity:0.999;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2027-0-9-3-5-59-7-9"
     width="18.190741"
     height="8.5138264"
     x="25.462929"
     y="41.163704"
     ry="1.0949117" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.6003px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.999;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none"
     x="28.464577"
     y="46.179146"
     class="text2033-4-7-2-2-7-4-6"><tspan
       class="tspan2031-6-6-1-4-5-3-76"
       x="28.464577"
       y="46.179146"
       style="fill:#a3bd8d;fill-opacity:1;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none">New data</tspan></text>
  <rect
     style="opacity:0.95904;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2027-27-1-6"
     width="18.190741"
     height="8.5138264"
     x="3.8020482"
     y="41.163708"
     ry="1.0949117" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.6003px;line-height:1.25;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.999;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none"
     x="10.341905"
     y="44.256115"
     class="text2033-1-1-5"><tspan
       class="tspan2031-5-0-2"
       x="10.341905"
       y="44.256115"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';fill:#a3bd8d;fill-opacity:1;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none">PTY</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.2032px;line-height:1.25;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.999;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.658338;stroke-miterlimit:4;stroke-dasharray:none"
     x="5.6381078"
     y="47.571453"
     class="text2037-8-3-4"><tspan
       class="tspan2035-8-0-1"
       x="5.6381078"
       y="47.571453"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';fill:#eacb8b;fill-opacity:1;stroke-width:0.658338;stroke-miterlimit:4;stroke-dasharray:none">cat bigfile</tspan></text>
  <path
     class="path2478-4-0-42"
     style="opacity:0.999;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     d="m 10.032578,38.22273 a 15.585639,15.585639 0 0 1 13.7565,-8.25962 15.585639,15.585639 0 0 1 13.75645,8.25951" />
  <path
     class="path2474-5-4-0"
     style="opacity:0.999;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     d="m 37.545438,52.87507 a 15.585639,15.585639 0 0 1 -13.75636,8.25932 15.585639,15.585639 0 0 1 -13.75621,-8.25906" />
  <rect
     style="opacity:0.999;fill:#2c2d2e;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect3319-6-5-1"
     width="12.3268"
     height="5.932344"
     x="17.625658"
     y="27.922832"
     ry="1.2204103" />
  <g
     class="g3375-5-4-0"
     transform="matrix(0.31954823,0,0,0.31954823,33.248018,4.2357802)"
     style="opacity:0.999">
    <rect
       style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.570594;stroke-opacity:1;stop-color:#000000"
       class="rect2167-4-6-2-34"
       width="0.85238659"
       height="10.328592"
       x="28.670523"
       y="78.422081"
       ry="0.30067289"
       transform="rotate(38.732515)" />
    <g
       class="g3344-84-4-0"
       transform="translate(-1.677366e-6,0.36189278)">
      <circle
         style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.733621;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="path3089-8-9-4"
         cx="-89.135254"
         cy="22.880177"
         transform="rotate(-50.084451)"
         r="4.0323257" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.264583"
         x="-41.37212"
         y="85.053604"
         class="text3287-83-9-0"><tspan
           class="tspan3285-8-9-6"
           x="-41.37212"
           y="85.053604"
           style="fill:#a3bd8d;fill-opacity:1;stroke-width:0.264583">X</tspan></text>
    </g>
    <g
       class="g3336-7-4-2"
       transform="translate(3.4047159,-0.39687576)">
      <circle
         style="fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.607082;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="path3079-5-9-2"
         cx="-22.961472"
         cy="83.805954"
         r="4.0935545" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
         x="-24.604092"
         y="85.895058"
         class="text3299-2-8-7"><tspan
           class="tspan3297-4-1-2"
           x="-24.604092"
           y="85.895058"
           style="stroke-width:0.264583">d</tspan></text>
    </g>
  </g>
  <circle
     style="opacity:0.999;fill:#2c2d2e;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="path3488-5-6-7"
     cx="23.789049"
     cy="60.65678"
     r="3.6038463" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.7078px;line-height:1.25;font-family:'Computo Monospace';-inkscape-font-specification:'Computo Monospace Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.999;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.220677"
     x="22.220201"
     y="62.487133"
     class="text3492-05-3-5"><tspan
       class="tspan3490-7-9-1"
       x="22.220201"
       y="62.487133"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-family:'Computo Monospace';-inkscape-font-specification:'Computo Monospace Bold';fill:#a3bd8d;fill-opacity:1;stroke-width:0.220677">?</tspan></text>
  <path
     style="opacity:0.999;fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.794001;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="path3502-3-3-9"
     d="M 11.02683,52.723591 H 9.3019998 l 0.8624152,-1.493747 z" />
  <path
     style="opacity:0.999;fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.794001;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="path3502-1-2-3-0"
     d="m 38.153723,38.032249 h -1.724831 l 0.862416,1.493746 z" />
  <rect
     style="opacity:0.95904;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2027-3-7-4-0"
     width="42.945576"
     height="30.59757"
     x="52.704514"
     y="30.864544"
     ry="2.4579999" />
  <g
     class="g10263-4-7-6"
     transform="translate(54.972298,-108.30788)"
     style="opacity:0.999">
    <rect
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.423106;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect3637-03-6-20"
       width="2.5802417"
       height="1.0212411"
       x="-8.4389687"
       y="153.19214" />
    <g
       class="g4943-1-8-2">
      <path
         style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.870066;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="path2400-6-2-1-4"
         d="m -3.9638257,153.70276 -2.5083003,1.44817 v -2.89634 z" />
      <rect
         style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.423106;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect3637-3-7-3-99"
         width="2.5802417"
         height="1.0212411"
         x="-8.4389687"
         y="153.19214" />
    </g>
  </g>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;opacity:0.999;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="text9881-9-19-0-9"
     transform="translate(-27.522242,-95.994887)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan29057">PTY thread</tspan></text>
  <g
     class="g19948"
     transform="translate(-40.583687,-4.8150044)"
     style="opacity:0.999">
    <rect
       style="fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.349417;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="datapill-animate-rect"
       width="9.213335"
       height="2.6987593"
       x="110.15145"
       y="41.15424"
       ry="1.3493797" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.48475px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.116472"
       x="111.78686"
       y="43.422661"
       class="datapill-animate-text"><tspan
         class="tspan2334-06-8-8-0-70-5"
         x="111.78686"
         y="43.422661"
         style="stroke-width:0.116472">data</tspan></text>
  </g>
  <path
     class="path10730-96-0-4"
     style="opacity:0.999;fill:none;stroke:#a3bd8d;stroke-width:0.564999;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
     d="m 56.573438,44.32154 h 0.94928 c 1.42867,0 1.38528,-1.38528 1.38528,-1.38528 v -4.53413 c 0,-0.82323 0.83075,-0.83075 0.83075,-0.83075 h 7.32765" />
  <path
     class="path10730-9-0-5-94"
     style="opacity:0.999;fill:none;stroke:#eacb8b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
     d="m 91.781098,44.32154 h -0.94927 c -1.42868,0 -1.38529,-1.38528 -1.38529,-1.38528 v -4.53413 c 0,-0.82323 -0.83075,-0.83075 -0.83075,-0.83075 h -7.32764" />
  <g
     class="g19953"
     transform="translate(-40.580845,5.7934852)"
     style="opacity:0.999">
    <rect
       style="fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.349428;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="renderpill-animate-rect"
       width="9.2135983"
       height="2.6988363"
       x="110.15131"
       y="46.651001"
       ry="1.3494182" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.83719px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.0861183"
       x="111.37035"
       y="48.680393"
       class="renderpill-animate-text"><tspan
         class="tspan2334-06-0-0-6-9-5-8-9"
         x="111.37035"
         y="48.680393"
         style="stroke-width:0.0861183">render</tspan></text>
  </g>
  <rect
     style="opacity:0.999;fill:#252627;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.564965;stroke-miterlimit:4;stroke-dasharray:1.12993, 0.564965;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2169-4-2-4-3"
     width="18.468237"
     height="5.3369279"
     x="64.943748"
     y="51.12542"
     ry="0.94660914" />
  <g
     class="g2115-9-9-8-0"
     transform="matrix(0.41743408,0,0,0.41743408,49.667005,18.152982)"
     style="opacity:0.999">
    <circle
       style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.529167;stroke-opacity:1;stop-color:#000000"
       class="path2080-6-4-0-8"
       cx="45.259174"
       cy="85.380898"
       r="4.3000474" />
    <rect
       style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.578573;stroke-opacity:1;stop-color:#000000"
       class="rect2082-9-5-1-2"
       width="0.51719606"
       height="3.5355656"
       x="45.000576"
       y="81.877541"
       ry="0.24326056" />
    <circle
       style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.364369;stroke-opacity:1;stop-color:#000000"
       class="path2084-3-4-7-2"
       cx="45.259174"
       cy="85.380898"
       r="0.55912954" />
    <rect
       style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.484478;stroke-opacity:1;stop-color:#000000"
       class="rect2082-1-3-6-9-5"
       width="0.51719606"
       height="2.4790738"
       x="63.828659"
       y="-74.721771"
       ry="0.25859803"
       transform="rotate(110.5351)" />
  </g>
  <rect
     style="opacity:0.999;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.292881;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="renderpill"
     width="7.7225833"
     height="2.26209"
     x="73.832413"
     y="52.662834"
     ry="1.131045" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.53988px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.999;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.072182"
     x="74.854172"
     y="54.363815"
     class="renderpilltext"><tspan
       class="tspan2334-06-0-0-6-9-5-8"
       x="74.854172"
       y="54.363815"
       style="stroke-width:0.072182">render</tspan></text>
  <rect
     style="opacity:0.999;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.238185;stroke-opacity:1;stop-color:#000000"
     class="rect2167-6-5-9-1"
     width="0.3558152"
     height="4.3115063"
     x="89.704514"
     y="-5.2890997"
     ry="0.12551111"
     transform="rotate(38.732515)" />
  <path
     class="path10794-1-8-0"
     style="opacity:0.999;fill:none;stroke:#a3bd8d;stroke-width:0.564999;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.13, 0.564999;stroke-dashoffset:0;stroke-opacity:1"
     d="m 56.521307,46.942148 h 0.949272 c 1.428675,0 1.385286,1.385281 1.385286,1.385281 v 4.534128 c 0,0.823232 0.830748,0.830752 0.830748,0.830752 h 4.20797" />
  <path
     class="path10794-2-3-4-7"
     style="opacity:0.999;fill:none;stroke:#be616b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
     d="m 91.833231,46.94356 h -0.949272 c -1.428675,0 -1.385286,1.38528 -1.385286,1.38528 v 4.53413 c 0,0.82323 -0.830747,0.83075 -0.830747,0.83075 h -4.207971" />
  <g
     class="g4892-2-6-9-7-0-7-40-52"
     transform="translate(55.005128,-108.30788)"
     style="opacity:0.999">
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-13-1-0-8-9-6-84-7"
       d="m 44.059171,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-4-5-7-7-1-1-4-1"
       d="m 47.177568,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-6-9-6-2-2-7-3-8-7"
       d="m 50.012014,153.64275 -1.628216,0.94005 v -1.8801 z" />
  </g>
  <g
     class="g4016-4-1-7-6-7-2-2-0"
     transform="translate(48.881028,-108.30788)"
     style="opacity:0.999">
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-1-1-7-2-6-1-1-42-0"
       d="m 77.387098,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-8-9-2-9-2-1-5-7-61"
       d="m 80.505491,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-6-7-5-2-0-9-5-9-7-02"
       d="m 83.33994,153.64275 -1.628215,0.94005 v -1.8801 z" />
  </g>
  <rect
     style="opacity:0.95904;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2027-3-3-7-9-5-7-9-9-9-58"
     width="41.360611"
     height="54.337212"
     x="134.01451"
     y="18.871136"
     ry="2.4579999" />
  <g
     class="g10205-4-2-0-0-7-1-93-63"
     transform="translate(54.972298,-109.89682)"
     style="opacity:0.999">
    <g
       class="g9769-1-8-4-3-7-4-98-20"
       transform="matrix(0.37734871,0,0,0.43895331,61.530438,134.97679)">
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.794001;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect9745-2-1-1-7-6-9-4-31"
         width="33.825642"
         height="4.9246316"
         x="184.37927"
         y="78.478394"
         ry="2.4623158" />
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.624034;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect9745-7-2-2-7-2-7-1-0-9"
         width="33.995609"
         height="3.0267117"
         x="184.2943"
         y="80.461296" />
    </g>
    <rect
       style="fill:#2c2d2e;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.477977;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect9738-1-4-9-3-3-0-8-26"
       width="2.5999832"
       height="4.210155"
       x="136.18776"
       y="166.02679" />
  </g>
  <rect
     style="opacity:0.999;fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.804155;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2585-0-7-2-8-6-1-5-5-59-74"
     width="22.837845"
     height="19.126844"
     x="181.04114"
     y="36.686234"
     ry="0.99488556" />
  <rect
     style="opacity:0.999;fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.765559;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2585-0-0-6-2-7-6-8-0-13"
     width="21.670319"
     height="18.268806"
     x="181.62489"
     y="37.11525" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;white-space:pre;inline-size:43.7373;opacity:0.999;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.264583"
     x="163.63741"
     y="138.89725"
     class="text2695-4-2-9-1-35-2-4-89-2"
     transform="matrix(0.48273654,0,0,0.22718746,76.000718,32.468184)"><tspan
       x="163.63741"
       y="138.89725"
       class="tspan29059">render</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;opacity:0.999;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="text9881-5-8-8-4-9-2-83-5"
     transform="translate(59.970958,-113.93596)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan29061">Screen </tspan><tspan
       x="84.371239"
       y="130.11922"
       class="tspan29063">thread</tspan></text>
  <rect
     style="opacity:0.999;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2323-7-2-7-7-9-6-07-5"
     width="16.359676"
     height="15.364467"
     x="106.64874"
     y="37.652637"
     ry="2.4579999" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;white-space:pre;inline-size:41.3906;opacity:0.999;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="96.148354"
     y="123.06367"
     class="text9881-9-1-5-8-0-3-0-1-1-0"
     transform="matrix(0.56184599,0,0,0.56184599,60.844388,-37.529414)"><tspan
       x="96.148354"
       y="123.06367"
       class="tspan29065">MPSC<tspan
   y="123.06367"
   class="tspan29067"> </tspan></tspan><tspan
       x="96.148354"
       y="130.11922"
       class="tspan29069">channel</tspan></text>
  <rect
     style="opacity:0.999;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.804157;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2585-09-6-4-55-0-4-88-8"
     width="22.837545"
     height="19.127131"
     x="143.66331"
     y="36.686207" />
  <rect
     style="opacity:0.999;fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.902064;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2587-9-9-3-6-3-0-76-9"
     width="13.914153"
     height="5.5298657"
     x="148.12505"
     y="34.454273" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.22183px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.999;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.151023"
     x="150.23204"
     y="37.528736"
     class="text2591-13-2-7-0-0-9-04-0"><tspan
       class="tspan2589-4-9-3-6-4-1-9-5"
       x="150.23204"
       y="37.528736"
       style="fill:#a3bd8d;fill-opacity:1;stroke-width:0.151023">state</tspan></text>
  <rect
     style="opacity:0.996003;fill:#252627;fill-opacity:1;stroke:#eacb8b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect3667-8-3-7-6-4-6-2-0"
     width="19.980745"
     height="7.0723147"
     x="145.14728"
     y="24.18327"
     ry="1.3051714" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.14183px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.996003;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.100398"
     x="149.30775"
     y="26.741039"
     class="text3673-5-0-2-9-4-2-2-19"><tspan
       class="tspan3671-7-3-1-9-76-5-46-92"
       x="149.30775"
       y="26.741039"
       style="fill:#eacb8b;fill-opacity:1;stroke-width:0.100398">interpret</tspan></text>
  <g
     class="g1759-2-3-3-7-2-3-4-0-0"
     transform="matrix(0.36148344,0,0,0.36148344,145.31545,6.8332802)"
     style="opacity:0.996003">
    <rect
       style="fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.79375;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2332-36-5-3-7-9-9-1-4-2-07"
       width="20.929356"
       height="6.1306024"
       x="15.993655"
       y="58.318031"
       ry="3.0653012" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
       x="19.708708"
       y="63.471058"
       class="text2336-1-4-8-9-5-6-7-9-3-3"><tspan
         class="tspan2334-06-4-9-4-6-5-5-9-9-97"
         x="19.708708"
         y="63.471058"
         style="stroke-width:0.264583">data</tspan></text>
  </g>
  <rect
     style="opacity:0.999;fill:#252627;fill-opacity:1;stroke:#be616b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="render-screen-rect"
     width="19.980745"
     height="7.0723147"
     x="145.14726"
     y="60.823971"
     ry="1.3051714" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.34061px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.999;fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.109716"
     x="150.82156"
     y="65.226425"
     class="text2336-1-1-1-3-1-5-8-2-0-86-9"><tspan
       class="tspan2334-06-0-7-8-9-5-67-1-5-9-33"
       x="150.82156"
       y="65.226425"
       style="fill:#be616b;fill-opacity:1;stroke-width:0.109716">render</tspan></text>
  <g
     class="g5007-6-4-2-3-7-0-7-8"
     transform="translate(48.448998,-108.30788)"
     style="opacity:0.999">
    <path
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.870066;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-6-6-0-2-1-6-8-2-26-0"
       d="m 124.16837,153.70276 -2.5083,1.44817 v -2.89634 z" />
    <rect
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.423106;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect3637-3-5-3-0-5-0-5-9-8-3"
       width="2.5802417"
       height="1.0212411"
       x="119.69323"
       y="153.19214" />
  </g>
  <g
     class="g10945-3-6-9-2-7-4-8-7"
     transform="translate(54.972298,-108.69515)"
     style="opacity:0.999">
    <path
       style="fill:none;stroke:#eacb8b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 81.799871,152.68285 c 0,0 0.04456,0 1.077976,0 1.033417,0 0.939932,-1.62801 0.939932,-1.62801 0,0 0,-12.25937 0,-14.04412 0,-1.78476 1.673315,-1.67332 1.673315,-1.67332 h 3.001058"
       class="path10892-6-5-9-6-4-3-98-1" />
    <path
       style="fill:none;stroke:#be616b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 81.799871,155.37719 c 0,0 0.04456,0 1.077976,0 1.033417,0 0.939932,1.62801 0.939932,1.62801 0,0 0,12.25937 0,14.04412 0,1.78476 1.673315,1.67332 1.673315,1.67332 h 3.001058"
       class="path10892-1-1-9-1-9-1-5-8-5" />
  </g>
  <rect
     style="opacity:0.997002;fill:#252627;fill-opacity:1;stroke:#eacb8b;stroke-width:0.456411;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2332-36-3-1-7-0-8-4-74"
     width="12.034513"
     height="3.5251355"
     x="68.160019"
     y="35.913773"
     ry="1.7625678" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.72145px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.997002;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.127568;stroke-opacity:1"
     x="70.922958"
     y="38.68293"
     class="text2336-1-6-2-6-6-8-6-4"><tspan
       class="tspan2334-06-8-8-8-8-3-9-63"
       x="70.922958"
       y="38.68293"
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.127568;stroke-opacity:1">data</tspan></text>
  <g
     class="initial-state-text-black"
     transform="translate(-315.82011,-354.68123)"
     style="display:inline;opacity:0.998001;fill:none;fill-opacity:1;stroke:none;stroke-opacity:1">
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:none;fill-opacity:1;stroke:none;stroke-width:0.0837506;stroke-opacity:1"
       x="462.30728"
       y="398.1673"
       class="text2591-1-91-6-0-8-47-49-6"><tspan
         class="tspan2589-2-77-8-4-8-0-04-1"
         x="462.30728"
         y="398.1673"
         style="fill:none;fill-opacity:1;stroke:none;stroke-width:0.0837506;stroke-opacity:1">bigfile line 373</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:none;fill-opacity:1;stroke:none;stroke-width:0.0837506;stroke-opacity:1"
       x="462.30728"
       y="401.45477"
       class="text2591-1-9-4-3-8-8-57-1-0"><tspan
         class="tspan2589-2-3-1-2-8-6-64-7-6"
         x="462.30728"
         y="401.45477"
         style="fill:none;fill-opacity:1;stroke:none;stroke-width:0.0837506;stroke-opacity:1">bigfile line 374</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:none;fill-opacity:1;stroke:none;stroke-width:0.0837506;stroke-opacity:1"
       x="462.30728"
       y="404.70236"
       class="text2591-1-9-1-4-1-3-8-8-3-9-3"><tspan
         class="tspan2589-2-3-9-7-3-6-9-3-53-05-2"
         x="462.30728"
         y="404.70236"
         style="fill:none;fill-opacity:1;stroke:none;stroke-width:0.0837506;stroke-opacity:1">bigfile lin</tspan></text>
  </g>
  <rect
     style="opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="interpret-yellow-box"
     width="19.980745"
     height="7.0723147"
     x="145.14728"
     y="24.18327"
     ry="1.3051714" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.14183px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.100398"
     x="149.30777"
     y="26.741039"
     class="interpret-text"><tspan
       class="tspan3671-7-3-1-6-3"
       x="149.30777"
       y="26.741039"
       style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.100398">interpret</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.04037px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.0956424"
     x="152.43983"
     y="29.777012"
     class="data-text"><tspan
       class="tspan2334-06-4-9-4-6-3-5"
       x="152.43983"
       y="29.777012"
       style="stroke-width:0.0956424">data</tspan></text>
  <rect
     style="opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="newdata-yellow-rect"
     width="18.190741"
     height="8.5138264"
     x="25.462929"
     y="41.163704"
     ry="1.0949117" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.6003px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none"
     x="28.464575"
     y="46.179146"
     class="new-data-text"><tspan
       class="tspan2031-6-6-5-2"
       x="28.464575"
       y="46.179146"
       style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none">New data</tspan></text>
  <rect
     style="opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.456411;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="datapill"
     width="12.034513"
     height="3.5251355"
     x="68.160019"
     y="35.913773"
     ry="1.7625678" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.24559px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.152137"
     x="70.296196"
     y="38.876797"
     class="datapilltext"><tspan
       class="tspan2334-06-8-8-0-70"
       x="70.296196"
       y="38.876797"
       style="stroke-width:0.152137">data</tspan></text>
  <rect
     style="opacity:0;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.565;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="render-now-red-box"
     width="18.468237"
     height="5.3369279"
     x="64.943153"
     y="51.125439"
     ry="0.94660914" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.36341px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.110785"
     x="66.47599"
     y="54.668064"
     class="render-now-text"><tspan
       class="tspan2334-06-0-0-6-9-5-1-2-1-7-5-9-4-3"
       x="66.47599"
       y="54.668064"
       style="stroke-width:0.110785">render now!</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.997;fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.0837506;stroke-opacity:1"
     x="146.48717"
     y="43.486073"
     class="text2591-1-91-6-0-8-47-49-61"><tspan
       class="tspan2589-2-77-8-4-8-0-04-5"
       x="146.48717"
       y="43.486073"
       style="fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.0837506;stroke-opacity:1">bigfile line 373</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.997;fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.0837506;stroke-opacity:1"
     x="146.48717"
     y="46.773552"
     class="text2591-1-9-4-3-8-8-57-1-5"><tspan
       class="tspan2589-2-3-1-2-8-6-64-7-4"
       x="146.48717"
       y="46.773552"
       style="fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.0837506;stroke-opacity:1">bigfile line 374</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.997;fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.0837506;stroke-opacity:1"
     x="146.48717"
     y="50.021141"
     class="text2591-1-9-1-4-1-3-8-8-3-9-7"><tspan
       class="tspan2589-2-3-9-7-3-6-9-3-53-05-6"
       x="146.48717"
       y="50.021141"
       style="fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.0837506;stroke-opacity:1">bigfile lin</tspan></text>
  <rect
     style="opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.564999;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="bigfile-yellow-box"
     width="19.706108"
     height="14.951232"
     x="145.22902"
     y="38.77417" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.0837506"
     x="146.48717"
     y="41.822353"
     class="bigfile-line-373"><tspan
       class="tspan2589-2-7-7-89"
       x="146.48717"
       y="41.822353"
       style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.0837506">bigfile line 373</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.0837506"
     x="146.48717"
     y="45.109829"
     class="bigfile-line-374"><tspan
       class="tspan2589-2-3-0-7-3"
       x="146.48717"
       y="45.109829"
       style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.0837506">bigfile line 374</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.0837506"
     x="146.48717"
     y="48.397366"
     class="bigfile-line-375"><tspan
       class="tspan2589-2-3-9-3-8-1"
       x="146.48717"
       y="48.397366"
       style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.0837506">bigfile line 375</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.0837506"
     x="146.48717"
     y="51.684841"
     class="bigfile-lin"><tspan
       class="tspan2589-2-3-9-7-7-0-9"
       x="146.48717"
       y="51.684841"
       style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.0837506">bigfile lin</tspan></text>
  <rect
     style="opacity:0;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.564999;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="render-state-box"
     width="19.706108"
     height="14.951232"
     x="145.22903"
     y="38.774155" />
  <rect
     style="display:inline;opacity:0;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="render-screen-box"
     width="19.980745"
     height="7.0723147"
     x="145.14726"
     y="60.823971"
     ry="1.3051714" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.34061px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.109716"
     x="150.82158"
     y="65.22644"
     class="render-screen-text"><tspan
       class="tspan2334-06-0-7-8-9-5-6-6-4"
       x="150.82158"
       y="65.22644"
       style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.109716">render</tspan></text>
  <rect
     style="opacity:0;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.564999;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect17086"
     width="19.706108"
     height="14.951232"
     x="145.22903"
     y="38.774151" />
  <g
     class="render-text-after-update"
     transform="translate(50.999458,-107.26469)"
     style="opacity:0">
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="95.487732"
       y="149.08702"
       class="text2591-1-8-6-9"><tspan
         class="tspan2589-2-7-7-8"
         x="95.487732"
         y="149.08702"
         style="fill:#eacb8b;fill-opacity:1;stroke-width:0.0837506">bigfile line 373</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="95.487732"
       y="152.3745"
       class="text2591-1-9-9-5-1"><tspan
         class="tspan2589-2-3-0-7-6"
         x="95.487732"
         y="152.3745"
         style="fill:#eacb8b;fill-opacity:1;stroke-width:0.0837506">bigfile line 374</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="95.487732"
       y="155.66199"
       class="text2591-1-9-1-3-8-4"><tspan
         class="tspan2589-2-3-9-3-8-8"
         x="95.487732"
         y="155.66199"
         style="fill:#eacb8b;fill-opacity:1;stroke-width:0.0837506">bigfile line 375</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="95.487732"
       y="158.94948"
       class="text2591-1-9-1-4-3-9-5"><tspan
         class="tspan2589-2-3-9-7-7-0-0"
         x="95.487732"
         y="158.94948"
         style="fill:#eacb8b;fill-opacity:1;stroke-width:0.0837506">bigfile lin</tspan></text>
  </g>
  <rect
     style="opacity:0;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect3667-9-5-9-9-2-4-2"
     width="19.980745"
     height="7.0723147"
     x="145.14726"
     y="60.823967"
     ry="1.3051714" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.34061px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.109716"
     x="150.82158"
     y="65.226433"
     class="text2336-1-1-1-3-1-5-9-9-2"><tspan
       class="tspan2334-06-0-7-8-9-5-6-6-4-2"
       x="150.82158"
       y="65.226433"
       style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.109716">render</tspan></text>
  <g
     class="render-button-in-screen"
     transform="translate(43.404989,-0.2008993)"
     style="opacity:0">
    <rect
       style="opacity:0.999;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="aaa"
       width="19.980745"
       height="7.0723147"
       x="101.74227"
       y="61.024872"
       ry="1.3051714" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.34061px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:1;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.109716"
       x="107.41657"
       y="65.42733"
       class="text2336-1-1-1-3-1-5-9-9-2-7"><tspan
         class="tspan2334-06-0-7-8-9-5-6-6-4-2-6"
         x="107.41657"
         y="65.42733"
         style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.109716">render</tspan></text>
  </g>
  <g
     class="render-text-after-update-clone"
     transform="translate(-22.375153,-0.34286816)"
     style="opacity:0">
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="168.86234"
       y="42.165195"
       class="bigfile-line-373-8"><tspan
         class="tspan2589-2-7-7-89-9"
         x="168.86234"
         y="42.165195"
         style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.0837506">bigfile line 373</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="168.86234"
       y="45.452671"
       class="bigfile-line-374-7"><tspan
         class="tspan2589-2-3-0-7-3-3"
         x="168.86234"
         y="45.452671"
         style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.0837506">bigfile line 374</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="168.86234"
       y="48.740208"
       class="bigfile-line-375-6"><tspan
         class="tspan2589-2-3-9-3-8-1-1"
         x="168.86234"
         y="48.740208"
         style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.0837506">bigfile line 375</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="168.86234"
       y="52.027683"
       class="bigfile-lin-2"><tspan
         class="tspan2589-2-3-9-7-7-0-9-9"
         x="168.86234"
         y="52.027683"
         style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.0837506">bigfile lin</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="168.86235"
       y="42.165173"
       class="text2591-1-8-6-9-1"><tspan
         class="tspan2589-2-7-7-8-9"
         x="168.86235"
         y="42.165173"
         style="fill:#eacb8b;fill-opacity:1;stroke-width:0.0837506">bigfile line 373</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="168.86235"
       y="45.452648"
       class="text2591-1-9-9-5-1-4"><tspan
         class="tspan2589-2-3-0-7-6-7"
         x="168.86235"
         y="45.452648"
         style="fill:#eacb8b;fill-opacity:1;stroke-width:0.0837506">bigfile line 374</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="168.86235"
       y="48.740139"
       class="text2591-1-9-1-3-8-4-8"><tspan
         class="tspan2589-2-3-9-3-8-8-4"
         x="168.86235"
         y="48.740139"
         style="fill:#eacb8b;fill-opacity:1;stroke-width:0.0837506">bigfile line 375</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="168.86235"
       y="52.02763"
       class="text2591-1-9-1-4-3-9-5-5"><tspan
         class="tspan2589-2-3-9-7-7-0-0-0"
         x="168.86235"
         y="52.02763"
         style="fill:#eacb8b;fill-opacity:1;stroke-width:0.0837506">bigfile lin</tspan></text>
  </g>
  <g
     class="initial-state-text"
     transform="translate(-315.82012,-354.68122)"
     style="display:inline;opacity:0">
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="462.30728"
       y="398.1673"
       class="text2591-1-91-6-0-8-47-49"><tspan
         class="tspan2589-2-77-8-4-8-0-04"
         x="462.30728"
         y="398.1673"
         style="fill:#eacb8b;fill-opacity:1;stroke-width:0.0837506">bigfile line 373</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="462.30728"
       y="401.45477"
       class="text2591-1-9-4-3-8-8-57-1"><tspan
         class="tspan2589-2-3-1-2-8-6-64-7"
         x="462.30728"
         y="401.45477"
         style="fill:#eacb8b;fill-opacity:1;stroke-width:0.0837506">bigfile line 374</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="462.30728"
       y="404.70236"
       class="text2591-1-9-1-4-1-3-8-8-3-9"><tspan
         class="tspan2589-2-3-9-7-3-6-9-3-53-05"
         x="462.30728"
         y="404.70236"
         style="fill:#eacb8b;fill-opacity:1;stroke-width:0.0837506">bigfile lin</tspan></text>
  </g>
  <g
     class="initial-state-text-black-2"
     style="opacity:0"
     transform="translate(-3.1215752,5.4493802)">
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.999;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="149.60873"
       y="38.036697"
       class="text2591-1-91-6-0-8-47-49-69"><tspan
         class="tspan2589-2-77-8-4-8-0-04-3"
         x="149.60873"
         y="38.036697"
         style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.0837506">bigfile line 373</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.999;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="149.60873"
       y="41.324173"
       class="text2591-1-9-4-3-8-8-57-1-7"><tspan
         class="tspan2589-2-3-1-2-8-6-64-7-45"
         x="149.60873"
         y="41.324173"
         style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.0837506">bigfile line 374</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.78668px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0.999;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.0837506"
       x="149.60873"
       y="44.571762"
       class="text2591-1-9-1-4-1-3-8-8-3-9-2"><tspan
         class="tspan2589-2-3-9-7-3-6-9-3-53-05-5"
         x="149.60873"
         y="44.571762"
         style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.0837506">bigfile lin</tspan></text>
  </g>
</svg>

  </figure>
</div>
<script src=/img/performance-1.js></script> 

<p>The pty thread continuously polls the pty in order to see if it has new data in a non-blocking loop inside an async task. Sleeping a fixed amount of time if no data was received.
In addition to the <code>data</code> instructions it sends to the screen for parsing, it sends a <code>render</code> instruction if either:</p>
<ol>
<li>There&rsquo;s no more data in the pty read buffer</li>
<li>30ms or more have passed since the last <code>render</code> instruction was sent.</li>
</ol>
<p>The second instance is for reasons of user experience. This is so that if there are large amounts of data streaming from the pty, the user will see them updating on their screen in real time.</p>
<p>Let&rsquo;s look at the code:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="n">task</span>::<span class="n">spawn</span><span class="p">({</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="k">move</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// TerminalBytes is an asynchronous stream that polls the pty
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">        </span><span class="c1">// and terminates when the pty is closed
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">terminal_bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TerminalBytes</span>::<span class="n">new</span><span class="p">(</span><span class="n">pid</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">last_render</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instant</span>::<span class="n">now</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">pending_render</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">max_render_pause</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Duration</span>::<span class="n">from_millis</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">bytes</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">terminal_bytes</span><span class="p">.</span><span class="n">next</span><span class="p">().</span><span class="k">await</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">receiving_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="n">bytes</span><span class="p">.</span><span class="n">is_empty</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">receiving_data</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">send_data_to_screen</span><span class="p">(</span><span class="n">bytes</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">pending_render</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="n">pending_render</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">last_render</span><span class="p">.</span><span class="n">elapsed</span><span class="p">()</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">max_render_pause</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">send_render_to_screen</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">last_render</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instant</span>::<span class="n">now</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">pending_render</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="n">receiving_data</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">// wait a fixed amount of time before polling for more data
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">                </span><span class="n">task</span>::<span class="n">sleep</span><span class="p">(</span><span class="n">max_render_pause</span><span class="p">).</span><span class="k">await</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">})</span><span class="w">
</span></span></span></code></pre></div><p>Here&rsquo;s <a href="https://github.com/zellij-org/zellij/blob/b20ac47d689a13cc894c3a10838cb8c2247a6e42/zellij-server/src/pty.rs#L170">the real world version</a>.</p>
<h1 id="troubleshooting-the-problem">Troubleshooting the problem</h1>
<p>In order to measure the performance of this flow, we&rsquo;re going to run a <code>cat</code> on a file with 2,000,000 lines.
We&rsquo;re going to use the excellent <a href="https://github.com/sharkdp/hyperfine"><code>hyperfine</code></a> benchmarking tool, making sure to use the <code>--show-output</code> flag in order to also measure stdout (which is what we&rsquo;re concerned with).
A fair comparison would be to use <a href="https://github.com/tmux/tmux"><code>tmux</code></a> - a very stable and established terminal multiplexer.</p>
<p>The results of running <code>hyperfine --show-output &quot;cat /tmp/bigfile&quot;</code> inside tmux: (pane size: 59 lines, 104 cols)</p>
<pre tabindex="0"><code>Time (mean  ):      5.593 s   0.055 s    [User: 1.3 ms, System: 2260.6 ms]
Range (min  max):    5.526 s   5.678 s    10 runs
</code></pre><p>The results of running <code>hyperfine --show-output &quot;cat /tmp/bigfile&quot;</code> inside Zellij: (pane size: 59 lines, 104 cols)</p>
<pre tabindex="0"><code>Time (mean  ):     19.175 s   0.347 s    [User: 4.5 ms, System: 2754.7 ms]
Range (min  max):   18.647 s  19.803 s    10 runs
</code></pre><p>Not great! Looks like we have something to aspire to.</p>
<h2 id="first-problem-mpsc-channel-overflow">First problem: MPSC channel overflow</h2>
<p>The first performance issue we have with this flow is with our MPSC channel overflowing. To visualize this, let&rsquo;s speed up the previous diagram a little:</p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/ScrollTrigger.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/TextPlugin.min.js"></script>
<div data-nosnippet>
  <figure style="display: block">
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   class="performance2"
   max-width="207.883mm"
   max-height="78.695mm"
   viewBox="0 0 207.883 78.695"
   version="1.1"
   id="performance2svg"
   sodipodi:docname="performance-2.svg"
   inkscape:version="1.1 (c4e8f9ed74, 2021-05-24)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview136"
     pagecolor="#505050"
     bordercolor="#eeeeee"
     borderopacity="1"
     inkscape:pageshadow="0"
     inkscape:pageopacity="0"
     inkscape:pagecheckerboard="0"
     inkscape:document-units="mm"
     showgrid="false"
     inkscape:snap-global="false"
     inkscape:zoom="1.8643314"
     inkscape:cx="414.35767"
     inkscape:cy="207.31293"
     inkscape:window-width="1890"
     inkscape:window-height="1006"
     inkscape:window-x="1934"
     inkscape:window-y="36"
     inkscape:window-maximized="1"
     inkscape:current-layer="layer3" />
  <defs
     id="defs2">
    <filter
       inkscape:collect="always"
       style="color-interpolation-filters:sRGB"
       id="filter37806"
       x="-0.065904676"
       y="-0.48450765"
       width="1.1318094"
       height="1.9690153">
      <feGaussianBlur
         inkscape:collect="always"
         stdDeviation="0.82954823"
         id="feGaussianBlur37808" />
    </filter>
    <filter
       inkscape:collect="always"
       style="color-interpolation-filters:sRGB"
       id="filter46757"
       x="-0.1811674"
       y="-0.19290224"
       width="1.3623348"
       height="1.3858045">
      <feGaussianBlur
         inkscape:collect="always"
         stdDeviation="1.0730584"
         id="feGaussianBlur46759" />
    </filter>
    <filter
       inkscape:collect="always"
       style="color-interpolation-filters:sRGB"
       id="filter62896"
       x="-0.094175327"
       y="-0.61317405"
       width="1.1883507"
       height="2.2263481">
      <feGaussianBlur
         inkscape:collect="always"
         stdDeviation="1.049844"
         id="feGaussianBlur62898" />
    </filter>
    <filter
       inkscape:collect="always"
       style="color-interpolation-filters:sRGB"
       id="filter73201"
       x="-0.074244454"
       y="-0.55652104"
       width="1.1484889"
       height="2.1130421">
      <feGaussianBlur
         inkscape:collect="always"
         stdDeviation="0.9345218"
         id="feGaussianBlur73203" />
    </filter>
    <filter
       inkscape:collect="always"
       style="color-interpolation-filters:sRGB"
       id="filter76424"
       x="-0.075731178"
       y="-0.55674858"
       width="1.1514624"
       height="2.1134972">
      <feGaussianBlur
         inkscape:collect="always"
         stdDeviation="0.95323533"
         id="feGaussianBlur76426" />
    </filter>
    <filter
       inkscape:collect="always"
       style="color-interpolation-filters:sRGB"
       id="filter76424-0"
       x="-0.06795997"
       y="-0.55674858"
       width="1.1359199"
       height="2.1134972">
      <feGaussianBlur
         inkscape:collect="always"
         stdDeviation="0.95323533"
         id="feGaussianBlur76426-6" />
    </filter>
  </defs>
  <rect
     style="display:inline;opacity:1;fill:#232425;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.449792;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2025-7-8-3-9-2-0-20-6-4-6"
     width="207.43333"
     height="78.244713"
     x="0.224896"
     y="0.224896" />
  <g
     class="g4892-2-6-9-7-0-7-40-4-8-92"
     transform="translate(54.70917,-108.5174)">
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-13-1-0-8-9-6-84-9-3-5"
       d="m 44.059171,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-4-5-7-7-1-1-4-4-8-7"
       d="m 47.177568,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-6-9-6-2-2-7-3-8-2-7-0"
       d="m 50.012014,153.64275 -1.628216,0.94005 v -1.8801 z" />
  </g>
  <g
     class="g4016-4-1-7-6-7-2-2-9-5-5"
     transform="translate(48.58507,-108.5174)">
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-1-1-7-2-6-1-1-42-3-4-87"
       d="m 77.387098,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-8-9-2-9-2-1-5-7-8-4-3"
       d="m 80.505491,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-6-7-5-2-0-9-5-9-7-2-9-2"
       d="m 83.33994,153.64275 -1.628215,0.94005 v -1.8801 z" />
  </g>
  <rect
     style="opacity:0.96;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2027-3-3-7-9-5-7-9-9-9-4-3-2"
     width="41.360611"
     height="54.337212"
     x="133.71855"
     y="18.661497"
     ry="2.4579999" />
  <g
     class="g10205-4-2-0-0-7-1-93-5-8-2"
     transform="translate(54.67634,-110.1063)">
    <g
       class="g9769-1-8-4-3-7-4-98-4-8-6"
       transform="matrix(0.37734871,0,0,0.43895331,61.530438,134.97679)">
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.794001;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect9745-2-1-1-7-6-9-4-3-8-3"
         width="33.825642"
         height="4.9246316"
         x="184.37927"
         y="78.478394"
         ry="2.4623158" />
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.624034;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect9745-7-2-2-7-2-7-1-0-2-7-7"
         width="33.995609"
         height="3.0267117"
         x="184.2943"
         y="80.461296" />
    </g>
    <rect
       style="fill:#2c2d2e;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.477977;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect9738-1-4-9-3-3-0-8-2-9-7"
       width="2.5999832"
       height="4.210155"
       x="136.18776"
       y="166.02679" />
  </g>
  <rect
     style="fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.804155;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2585-0-7-2-8-6-1-5-5-59-7-6-5"
     width="22.837845"
     height="19.126844"
     x="180.74516"
     y="36.476727"
     ry="0.99488556" />
  <rect
     style="fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.765559;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2585-0-0-6-2-7-6-8-0-4-9-3"
     width="21.670319"
     height="18.268806"
     x="181.32893"
     y="36.905743" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;white-space:pre;inline-size:43.7373;opacity:1;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.264583"
     x="163.63741"
     y="138.89725"
     class="text2695-4-2-9-1-35-2-4-89-7-3-9"
     transform="matrix(0.48273654,0,0,0.22718746,75.70476,32.2587)"><tspan
       x="163.63741"
       y="138.89725"
       class="tspan43064">render</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="text9881-5-8-8-4-9-2-83-0-9-3"
     transform="translate(59.675,-114.1455)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan43066">Screen </tspan><tspan
       x="84.371239"
       y="130.11922"
       class="tspan43068">thread</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;white-space:pre;inline-size:41.3906;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="96.148354"
     y="123.06367"
     class="text9881-9-1-5-8-0-3-0-1-1-6-7-4"
     transform="matrix(0.56184599,0,0,0.56184599,60.54843,-37.7389)"><tspan
       x="96.148354"
       y="123.06367"
       class="tspan43070">MPSC<tspan
   y="123.06367"
   class="tspan43072"> </tspan></tspan><tspan
       x="96.148354"
       y="130.11922"
       class="tspan43074">channel</tspan></text>
  <rect
     style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.804157;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2585-09-6-4-55-0-4-88-2-7-20"
     width="22.837545"
     height="19.127131"
     x="143.36736"
     y="36.476681" />
  <rect
     style="fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.902064;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2587-9-9-3-6-3-0-76-3-2-1"
     width="13.914153"
     height="5.5298657"
     x="147.82909"
     y="34.244747" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.22183px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.151023"
     x="149.93608"
     y="37.31921"
     class="text2591-13-2-7-0-0-9-04-1-1-6"><tspan
       class="tspan2589-4-9-3-6-4-1-9-0-3-4"
       x="149.93608"
       y="37.31921"
       style="fill:#a3bd8d;fill-opacity:1;stroke-width:0.151023">state</tspan></text>
  <rect
     style="fill:#252627;fill-opacity:1;stroke:#eacb8b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect3667-8-3-7-6-4-6-2-4-9-5"
     width="19.980745"
     height="7.0723147"
     x="144.85132"
     y="23.973749"
     ry="1.3051714" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.14183px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.100398"
     x="149.0118"
     y="26.531519"
     class="text3673-5-0-2-9-4-2-2-8-5-0"><tspan
       class="tspan3671-7-3-1-9-76-5-46-0-3-8"
       x="149.0118"
       y="26.531519"
       style="fill:#eacb8b;fill-opacity:1;stroke-width:0.100398">interpret</tspan></text>
  <g
     class="g1759-2-3-3-7-2-3-4-0-1-2-7"
     transform="matrix(0.36148344,0,0,0.36148344,145.01949,6.62376)">
    <rect
       style="fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.79375;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2332-36-5-3-7-9-9-1-4-2-8-4-5"
       width="20.929356"
       height="6.1306024"
       x="15.993655"
       y="58.318031"
       ry="3.0653012" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
       x="19.708708"
       y="63.471058"
       class="text2336-1-4-8-9-5-6-7-9-3-7-8-8"><tspan
         class="tspan2334-06-4-9-4-6-5-5-9-9-3-3-8"
         x="19.708708"
         y="63.471058"
         style="stroke-width:0.264583">data</tspan></text>
  </g>
  <rect
     style="opacity:1;fill:#252627;fill-opacity:1;stroke:#be616b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect3667-9-5-9-9-3-6-6-6-7-9-8"
     width="19.980745"
     height="7.0723147"
     x="144.8513"
     y="60.614452"
     ry="1.3051714" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.34061px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:1;fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.109716"
     x="150.5256"
     y="65.016899"
     class="text2336-1-1-1-3-1-5-8-2-0-86-1-2-7"><tspan
       class="tspan2334-06-0-7-8-9-5-67-1-5-9-3-6-5"
       x="150.5256"
       y="65.016899"
       style="fill:#be616b;fill-opacity:1;stroke-width:0.109716">render</tspan></text>
  <g
     class="g5007-6-4-2-3-7-0-7-4-7-1"
     transform="translate(48.15304,-108.5174)">
    <path
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.870066;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-6-6-0-2-1-6-8-2-26-4-5-9"
       d="m 124.16837,153.70276 -2.5083,1.44817 v -2.89634 z" />
    <rect
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.423106;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect3637-3-5-3-0-5-0-5-9-8-2-6-9"
       width="2.5802417"
       height="1.0212411"
       x="119.69323"
       y="153.19214" />
  </g>
  <g
     class="g10945-3-6-9-2-7-4-8-4-3-9"
     transform="translate(54.67634,-108.9046)">
    <path
       style="fill:none;stroke:#eacb8b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 81.799871,152.68285 c 0,0 0.04456,0 1.077976,0 1.033417,0 0.939932,-1.62801 0.939932,-1.62801 0,0 0,-12.25937 0,-14.04412 0,-1.78476 1.673315,-1.67332 1.673315,-1.67332 h 3.001058"
       class="path10892-6-5-9-6-4-3-98-6-1-4" />
    <path
       style="fill:none;stroke:#be616b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 81.799871,155.37719 c 0,0 0.04456,0 1.077976,0 1.033417,0 0.939932,1.62801 0.939932,1.62801 0,0 0,12.25937 0,14.04412 0,1.78476 1.673315,1.67332 1.673315,1.67332 h 3.001058"
       class="path10892-1-1-9-1-9-1-5-8-4-7-6" />
  </g>
  <rect
     style="opacity:0.96;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2027-27-1-6-4-9-8-4"
     width="18.190741"
     height="8.5138264"
     x="3.5060866"
     y="40.95414"
     ry="1.0949117" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.6003px;line-height:1.25;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none"
     x="10.045942"
     y="44.046669"
     class="text2033-1-1-5-1-4-5-27"><tspan
       class="tspan2031-5-0-2-5-9-7-3"
       x="10.045942"
       y="44.046669"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';fill:#a3bd8d;fill-opacity:1;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none">PTY</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.2032px;line-height:1.25;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.658338;stroke-miterlimit:4;stroke-dasharray:none"
     x="5.3421459"
     y="47.361855"
     class="text2037-8-3-4-2-0-3-32"><tspan
       class="tspan2035-8-0-1-4-5-5-1"
       x="5.3421459"
       y="47.361855"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';fill:#eacb8b;fill-opacity:1;stroke-width:0.658338;stroke-miterlimit:4;stroke-dasharray:none">cat bigfile</tspan></text>
  <path
     class="path2478-4-0-42-3-1-4-5"
     style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     d="m 9.73662,38.0132 a 15.585639,15.585639 0 0 1 13.7565,-8.2596 15.585639,15.585639 0 0 1 13.75645,8.2595" />
  <path
     class="path2474-5-4-0-5-1-9-14"
     style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     d="M 37.24948,52.6656 A 15.585639,15.585639 0 0 1 23.49312,60.9249 15.585639,15.585639 0 0 1 9.73691,52.6658" />
  <rect
     style="fill:#2c2d2e;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect3319-6-5-1-7-7-8-8"
     width="12.3268"
     height="5.932344"
     x="17.329695"
     y="27.713297"
     ry="1.2204103" />
  <g
     class="g3375-5-4-0-5-8-4-1"
     transform="matrix(0.31954823,0,0,0.31954823,32.95206,4.0263)">
    <rect
       style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.570594;stroke-opacity:1;stop-color:#000000"
       class="rect2167-4-6-2-34-6-2-9-3"
       width="0.85238659"
       height="10.328592"
       x="28.670523"
       y="78.422081"
       ry="0.30067289"
       transform="rotate(38.732515)" />
    <g
       class="g3344-84-4-0-2-8-3-7"
       transform="translate(-1.677366e-6,0.36189278)">
      <circle
         style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.733621;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="path3089-8-9-4-7-6-2-4"
         cx="-89.135254"
         cy="22.880177"
         transform="rotate(-50.084451)"
         r="4.0323257" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.264583"
         x="-41.37212"
         y="85.053604"
         class="text3287-83-9-0-5-8-4-8"><tspan
           class="tspan3285-8-9-6-7-0-9-2"
           x="-41.37212"
           y="85.053604"
           style="fill:#a3bd8d;fill-opacity:1;stroke-width:0.264583">X</tspan></text>
    </g>
    <g
       class="g3336-7-4-2-4-5-4-3"
       transform="translate(3.4047159,-0.39687576)">
      <circle
         style="fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.607082;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="path3079-5-9-2-5-8-8-0"
         cx="-22.961472"
         cy="83.805954"
         r="4.0935545" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
         x="-24.604092"
         y="85.895058"
         class="text3299-2-8-7-3-4-9-4"><tspan
           class="tspan3297-4-1-2-8-1-3-4"
           x="-24.604092"
           y="85.895058"
           style="stroke-width:0.264583">d</tspan></text>
    </g>
  </g>
  <circle
     style="fill:#2c2d2e;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="path3488-5-6-7-6-5-3-5"
     cx="23.493086"
     cy="60.447304"
     r="3.6038463" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.7078px;line-height:1.25;font-family:'Computo Monospace';-inkscape-font-specification:'Computo Monospace Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.220677"
     x="21.924238"
     y="62.277626"
     class="text3492-05-3-5-3-1-2-1"><tspan
       class="tspan3490-7-9-1-4-1-9-6"
       x="21.924238"
       y="62.277626"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-family:'Computo Monospace';-inkscape-font-specification:'Computo Monospace Bold';fill:#a3bd8d;fill-opacity:1;stroke-width:0.220677">?</tspan></text>
  <path
     style="fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.794001;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="path3502-3-3-9-7-0-7-4"
     d="M 10.73087,52.5141 H 9.00604 l 0.86241,-1.4938 z" />
  <path
     style="fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.794001;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="path3502-1-2-3-0-1-9-3-6"
     d="m 37.85776,37.8227 h -1.72483 l 0.86241,1.4937 z" />
  <rect
     style="opacity:0.96;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2027-3-7-4-0-3-5-2-3"
     width="42.945576"
     height="30.59757"
     x="52.408554"
     y="30.655069"
     ry="2.4579999" />
  <g
     class="g10263-4-7-6-9-6-5-4"
     transform="translate(54.67634,-108.5174)">
    <rect
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.423106;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect3637-03-6-20-8-6-5-3"
       width="2.5802417"
       height="1.0212411"
       x="-8.4389687"
       y="153.19214" />
    <g
       class="g4943-1-8-2-1-4-3-1">
      <path
         style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.870066;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="path2400-6-2-1-4-7-2-6-9"
         d="m -3.9638257,153.70276 -2.5083003,1.44817 v -2.89634 z" />
      <rect
         style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.423106;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect3637-3-7-3-99-4-5-4-9"
         width="2.5802417"
         height="1.0212411"
         x="-8.4389687"
         y="153.19214" />
    </g>
  </g>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="text9881-9-19-0-9-2-5-7-5"
     transform="translate(-27.8182,-96.2044)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan43076">PTY thread</tspan></text>
  <path
     class="path10730-96-0-4-2-9-7-4"
     style="fill:none;stroke:#a3bd8d;stroke-width:0.564999;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
     d="m 56.27748,44.1121 h 0.94928 c 1.42867,0 1.38528,-1.3853 1.38528,-1.3853 v -4.5342 c 0,-0.8232 0.83075,-0.8307 0.83075,-0.8307 h 7.32765" />
  <path
     class="path10730-9-0-5-94-2-7-0-64"
     style="fill:none;stroke:#eacb8b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
     d="m 91.48514,44.1121 h -0.94927 c -1.42868,0 -1.38529,-1.3853 -1.38529,-1.3853 v -4.5342 c 0,-0.8232 -0.83075,-0.8307 -0.83075,-0.8307 h -7.32764" />
  <path
     class="path10794-1-8-0-9-7-0-1"
     style="fill:none;stroke:#a3bd8d;stroke-width:0.564999;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.13, 0.564999;stroke-dashoffset:0;stroke-opacity:1"
     d="m 56.22535,46.7327 h 0.94927 c 1.42868,0 1.38529,1.3852 1.38529,1.3852 v 4.5342 c 0,0.8232 0.83074,0.8307 0.83074,0.8307 h 4.20798" />
  <path
     class="path10794-2-3-4-7-2-0-7-4"
     style="fill:none;stroke:#be616b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
     d="M 91.53727,46.7341 H 90.588 c -1.42867,0 -1.38529,1.3852 -1.38529,1.3852 v 4.5342 c 0,0.8232 -0.83074,0.8307 -0.83074,0.8307 H 84.164" />
  <g
     class="g16140-5-2-0-1-7-8-5"
     transform="translate(-321.57722,-357.5804)">
    <g
       class="g2115-9-9-8-8-5-09-2-1-6-0-6-4"
       transform="matrix(0.41743408,0,0,0.41743408,370.85606,375.51842)">
      <circle
         style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.529167;stroke-opacity:1;stop-color:#000000"
         class="path2080-6-4-0-4-7-6-2-48-0-2-7-3"
         cx="45.259174"
         cy="85.380898"
         r="4.3000474" />
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.578573;stroke-opacity:1;stop-color:#000000"
         class="rect2082-9-5-1-6-0-3-0-6-2-4-5-0"
         width="0.51719606"
         height="3.5355656"
         x="45.000576"
         y="81.877541"
         ry="0.24326056" />
      <circle
         style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.364369;stroke-opacity:1;stop-color:#000000"
         class="path2084-3-4-7-6-7-8-5-66-2-5-0-4"
         cx="45.259174"
         cy="85.380898"
         r="0.55912954" />
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.484478;stroke-opacity:1;stop-color:#000000"
         class="rect2082-1-3-6-9-7-8-5-5-6-2-7-5-5"
         width="0.51719606"
         height="2.4790738"
         x="63.828659"
         y="-74.721771"
         ry="0.25859803"
         transform="rotate(110.5351)" />
    </g>
    <g
       class="g1849-0-8-6-1-2-9-6-2-17-2-8-8-5"
       transform="matrix(0.36898333,0,0,0.36898333,389.08337,384.20605)">
      <rect
         style="fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.79375;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect2332-36-2-3-0-3-0-7-9-1-9-8-7-7-7-4"
         width="20.929356"
         height="6.1306024"
         x="16.0931"
         y="69.982071"
         ry="3.0653012" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.17331px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.195624"
         x="18.862219"
         y="74.591988"
         class="text2336-1-1-4-5-9-3-4-3-1-0-2-3-2-0-0"><tspan
           class="tspan2334-06-0-0-6-9-5-1-9-5-2-96-6-2-3-9"
           x="18.862219"
           y="74.591988"
           style="stroke-width:0.195624">render</tspan></text>
    </g>
    <rect
       style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.238185;stroke-opacity:1;stop-color:#000000"
       class="rect2167-6-5-9-0-4-98-8-59-1-9-9-2"
       width="0.3558152"
       height="4.3115063"
       x="563.85455"
       y="72.519592"
       ry="0.12551111"
       transform="rotate(38.732515)" />
    <rect
       style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.564965;stroke-miterlimit:4;stroke-dasharray:1.12993, 0.564965;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2169-4-2-4-0-6-4-3-43-0-1-6-1"
       width="18.468237"
       height="5.3369279"
       x="386.13278"
       y="408.49084"
       ry="0.94660914" />
  </g>
  <g
     class="g14103-5-6-8-1-16-9-1-0"
     transform="translate(-321.57723,-25.533577)">
    <rect
       style="opacity:0.96;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2027-0-9-3-5-59-7-80-8-0-0"
       width="18.190741"
       height="8.5138264"
       x="346.7442"
       y="66.487823"
       ry="1.0949117" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.6003px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none"
       x="349.74585"
       y="71.503265"
       class="text2033-4-7-2-2-7-4-4-4-8-9"><tspan
         class="tspan2031-6-6-1-4-5-3-84-2-4-5"
         x="349.74585"
         y="71.503265"
         style="fill:#a3bd8d;fill-opacity:1;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none">New data</tspan></text>
  </g>
  <g
     class="g14145-9-0-3-1-4-5-7-7-3"
     transform="translate(-321.57723,-25.533646)"
     style="display:inline">
    <rect
       style="fill:none;fill-opacity:1;stroke:#eacb8b;stroke-width:0.456411;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2332-36-3-1-7-0-8-4-296-7-4-9-6"
       width="12.034513"
       height="3.5251355"
       x="389.40118"
       y="61.139587"
       ry="1.7625678" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.72145px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.127568;stroke-opacity:1"
       x="392.16412"
       y="63.908745"
       class="text2336-1-6-2-6-6-8-6-4-2-3-6-7"><tspan
         class="tspan2334-06-8-8-8-8-3-9-5-7-5-2-5"
         x="392.16412"
         y="63.908745"
         style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.127568;stroke-opacity:1">data</tspan></text>
  </g>
  <rect
     style="display:inline;opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.323699;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="datapill-animate-rect"
     width="8.5351915"
     height="2.5001183"
     x="69.573616"
     y="36.118446"
     ry="1.2500591" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.30186px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.107899"
     x="71.088654"
     y="38.219902"
     class="datapill-animate-text"><tspan
       class="tspan2334-06-8-8-0-9-0-7-4-4-3-9-9-1-11-0"
       x="71.088654"
       y="38.219902"
       style="stroke-width:0.107899">data</tspan></text>
  <rect
     style="opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="newdata-yellow-rect"
     width="18.190741"
     height="8.5138264"
     x="25.166971"
     y="40.954247"
     ry="1.0949117" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.6003px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#2c2d2e;fill-opacity:1;stroke:none;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none"
     x="28.168619"
     y="45.969688"
     class="newdata-yellow-text"><tspan
       class="tspan2031-6-6-5-2-0-9-9-5"
       x="28.168619"
       y="45.969688"
       style="fill:#2c2d2e;fill-opacity:1;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none">New data</tspan></text>
  <rect
     style="display:inline;opacity:0;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.565;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="render-now-red-box"
     width="18.468237"
     height="5.3369279"
     x="64.555565"
     y="50.910446"
     ry="0.94660914" />
  <g
     class="render-now-text"
     transform="matrix(0.36898334,0,0,0.36898334,60.044692,26.599612)"
     style="display:inline;opacity:0">
    <rect
       style="fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.79375;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2332-36-2-3-0-3-0-7-0-4-6-2"
       width="20.929356"
       height="6.1306024"
       x="16.0931"
       y="69.982071"
       ry="3.0653012" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:6.4052px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.300244"
       x="16.377733"
       y="75.487091"
       class="text2336-1-1-4-5-9-3-4-2-9-0-9"><tspan
         class="tspan2334-06-0-0-6-9-5-1-2-1-7-1"
         x="16.377733"
         y="75.487091"
         style="stroke-width:0.300244">render now!</tspan></text>
  </g>
  <rect
     style="display:inline;opacity:0;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.324716;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="renderpill-animate-rect"
     width="8.5333099"
     height="2.5164077"
     x="69.231102"
     y="52.29467"
     ry="1.2582039" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.70726px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.080028"
     x="70.596764"
     y="54.00526"
     class="renderpill-animate-text"
     transform="scale(0.99664827,1.003363)"><tspan
       class="tspan2334-06-0-0-6-9-5-1-9-4-8-9-0-2-3-9-6"
       x="70.596764"
       y="54.00526"
       style="stroke-width:0.080028">render</tspan></text>
  <rect
     style="display:inline;opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.456411;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="datapill"
     width="12.034513"
     height="3.5251355"
     x="67.823952"
     y="35.605942"
     ry="1.7625678" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.24559px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.152137"
     x="69.960136"
     y="38.568962"
     class="datapilltext"><tspan
       class="tspan2334-06-8-8-0-70-5-0-3-0"
       x="69.960136"
       y="38.568962"
       style="stroke-width:0.152137">data</tspan></text>
  <g
     inkscape:groupmode="layer"
     class="layer2"
     inkscape:label="stuff">
    <g
       class="g20596"
       transform="translate(0.14505672,-25.963708)">
      <rect
         style="display:inline;opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.456411;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="datapill-animate-rect-2"
         width="12.034513"
         height="3.5251355"
         x="108.37029"
         y="69.326607"
         ry="1.7625678" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.24559px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.152137"
         x="110.50647"
         y="72.289627"
         class="datapill-animate-text-2"><tspan
           class="tspan2334-06-8-8-0-70-5-0-3-0-7"
           x="110.50647"
           y="72.289627"
           style="stroke-width:0.152137">data</tspan></text>
    </g>
  </g>
  <g
     inkscape:groupmode="layer"
     class="layer3"
     inkscape:label="above">
    <rect
       style="fill:#252627;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2323-7-2-7-7-9-6-07-9-9-1"
       width="16.359676"
       height="15.364467"
       x="106.48487"
       y="37.443233"
       ry="2.4579999" />
    <rect
       style="opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="interpret-yellow-box"
       width="19.980745"
       height="7.0723147"
       x="144.85132"
       y="23.973749"
       ry="1.3051714" />
    <g
       class="interpret-data-text"
       transform="translate(36.96961,-35.866915)"
       style="opacity:0">
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.14183px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.100398"
         x="112.04218"
         y="62.636395"
         class="interpret-text"><tspan
           class="tspan3671-7-3-1-6-3"
           x="112.04218"
           y="62.636395"
           style="fill:#252627;fill-opacity:1;stroke-width:0.100398">interpret</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.04037px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.0956424"
         x="115.17424"
         y="65.672371"
         class="data-text"><tspan
           class="tspan2334-06-4-9-4-6-3-5"
           x="115.17424"
           y="65.672371"
           style="fill:#252627;fill-opacity:1;stroke-width:0.0956424">data</tspan></text>
    </g>
    <g
       class="render-animate-pill-2"
       transform="matrix(0.73820012,0,0,0.73820012,10.023419,-5.2662083)">
      <rect
         style="display:inline;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.324716;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="mpsc-renderpill-1-9"
         width="8.5333099"
         height="2.5164077"
         x="137.36288"
         y="65.248405"
         ry="1.2582039" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.70726px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.080028"
         x="138.95766"
         y="66.915581"
         class="mpsc-rendertext-1-3"
         transform="scale(0.99664827,1.003363)"><tspan
           class="tspan2334-06-0-0-6-9-5-1-9-4-8-9-0-2-3-9-1"
           x="138.95766"
           y="66.915581"
           style="stroke-width:0.080028">render</tspan></text>
    </g>
    <g
       class="mpsc-channel-glow"
       transform="translate(-0.33635759,-22.753384)"
       style="opacity:0">
      <g
         class="g49902"
         transform="translate(-2.2021496,2.393059)">
        <rect
           style="fill:#252627;fill-opacity:1;stroke:#b3ff80;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
           class="rect2323-7-2-7-7-9-6-07-9-9-1-9"
           width="16.359676"
           height="15.364467"
           x="109.02338"
           y="57.803558"
           ry="2.4579999" />
      </g>
      <rect
         style="mix-blend-mode:normal;fill:none;fill-opacity:1;stroke:#b3ff80;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;filter:url(#filter46757);stop-color:#000000"
         class="halo"
         width="16.359676"
         height="15.364467"
         x="106.82123"
         y="60.196617"
         ry="2.4579999" />
    </g>
    <g
       class="render-animate-pill-2-5"
       transform="matrix(0.73820012,0,0,0.73820012,10.104512,-5.2706418)">
      <rect
         style="display:inline;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.324716;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="mpsc-renderpill-1-9-0"
         width="8.5333099"
         height="2.5164077"
         x="137.36288"
         y="65.248405"
         ry="1.2582039" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.70726px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.080028"
         x="138.95766"
         y="66.915581"
         class="mpsc-rendertext-1-3-3"
         transform="scale(0.99664827,1.003363)"><tspan
           class="tspan2334-06-0-0-6-9-5-1-9-4-8-9-0-2-3-9-1-6"
           x="138.95766"
           y="66.915581"
           style="stroke-width:0.080028">render</tspan></text>
    </g>
    <g
       class="active-render-button"
       transform="translate(-35.305206,-7.5366173)"
       style="opacity:0">
      <rect
         style="fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect3667-9-5-9-9-3-6-6-6-7-9-8-3"
         width="19.980745"
         height="7.0723147"
         x="180.15651"
         y="68.15107"
         ry="1.3051714" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.34061px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#232425;fill-opacity:1;stroke:none;stroke-width:0.109716"
         x="185.83081"
         y="72.553528"
         class="text2336-1-1-1-3-1-5-8-2-0-86-1-2-7-6"><tspan
           class="tspan2334-06-0-7-8-9-5-67-1-5-9-3-6-5-1"
           x="185.83081"
           y="72.553528"
           style="fill:#232425;fill-opacity:1;stroke-width:0.109716">render</tspan></text>
    </g>
    <g
       class="channel-data-variant-1"
       transform="matrix(1.2310388,0,0,1.2310388,-31.139376,-8.6956228)">
      <g
         class="g31050"
         transform="translate(0,-0.54656738)">
        <rect
           style="display:inline;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.239705;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
           class="mpsc-renderpill-1-0"
           width="6.2992907"
           height="1.8576125"
           x="115.29055"
           y="42.177227"
           ry="0.92880625" />
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.2603px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.0590767"
           x="116.51453"
           y="43.428009"
           class="mpsc-rendertext-1-6"
           transform="scale(0.99664827,1.003363)"><tspan
             class="tspan2334-06-0-0-6-9-5-1-9-4-8-9-0-2-3-9-3"
             x="116.51453"
             y="43.428009"
             style="stroke-width:0.0590767">render</tspan></text>
      </g>
      <g
         class="g30982"
         transform="translate(0.45881881,-0.83290352)">
        <rect
           style="display:inline;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.238955;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
           class="mpsc-datapill-1-2"
           width="6.3006792"
           height="1.8455876"
           x="114.83072"
           y="39.696373"
           ry="0.92279381" />
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.69923px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.0796511"
           x="115.94912"
           y="41.247669"
           class="mpsc-datatext-1-0"><tspan
             class="tspan2334-06-8-8-0-9-0-7-4-4-3-9-9-1-11-6"
             x="115.94912"
             y="41.247669"
             style="stroke-width:0.0796511">data</tspan></text>
      </g>
      <g
         class="g30916"
         transform="translate(-0.11549262,2.2074759)">
        <rect
           style="display:inline;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.238955;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
           class="mpsc-datapill-2-1"
           width="6.3006792"
           height="1.8455876"
           x="115.40503"
           y="42.183239"
           ry="0.92279381" />
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.69923px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.0796511"
           x="116.52343"
           y="43.734531"
           class="mpsc-datatext-2-5"><tspan
             class="tspan2334-06-8-8-0-9-0-7-4-4-3-0-2-5-2-7-5"
             x="116.52343"
             y="43.734531"
             style="stroke-width:0.0796511">data</tspan></text>
      </g>
    </g>
    <g
       class="channel-data-variant-2"
       style="opacity:0"
       transform="translate(10.704032,-20.845083)">
      <g
         class="g31050-9"
         transform="matrix(1.2310388,0,0,1.2310388,-41.843998,14.863016)">
        <rect
           style="display:inline;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.239705;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
           class="mpsc-renderpill-1-0-5"
           width="6.2992907"
           height="1.8576125"
           x="115.29055"
           y="42.177227"
           ry="0.92880625" />
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.2603px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.0590767"
           x="116.51453"
           y="43.428009"
           class="mpsc-rendertext-1-6-0"
           transform="scale(0.99664827,1.003363)"><tspan
             class="tspan2334-06-0-0-6-9-5-1-9-4-8-9-0-2-3-9-3-4"
             x="116.51453"
             y="43.428009"
             style="stroke-width:0.0590767">render</tspan></text>
      </g>
      <g
         class="g30982-8"
         transform="matrix(1.2310388,0,0,1.2310388,-41.278781,11.120192)">
        <rect
           style="display:inline;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.238955;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
           class="mpsc-datapill-1-2-7"
           width="6.3006792"
           height="1.8455876"
           x="114.83072"
           y="39.696373"
           ry="0.92279381" />
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.69923px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.0796511"
           x="115.94912"
           y="41.247669"
           class="mpsc-datatext-1-0-1"><tspan
             class="tspan2334-06-8-8-0-9-0-7-4-4-3-9-9-1-11-6-7"
             x="115.94912"
             y="41.247669"
             style="stroke-width:0.0796511">data</tspan></text>
      </g>
      <g
         class="g30916-2"
         transform="matrix(1.2310388,0,0,1.2310388,-41.985388,11.472684)">
        <rect
           style="display:inline;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.238955;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
           class="mpsc-datapill-2-1-7"
           width="6.3006792"
           height="1.8455876"
           x="115.40503"
           y="42.183239"
           ry="0.92279381" />
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.69923px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.0796511"
           x="116.52343"
           y="43.734531"
           class="mpsc-datatext-2-5-2"><tspan
             class="tspan2334-06-8-8-0-9-0-7-4-4-3-0-2-5-2-7-5-2"
             x="116.52343"
             y="43.734531"
             style="stroke-width:0.0796511">data</tspan></text>
      </g>
    </g>
    <g
       class="channel-data-variant-3"
       transform="translate(-0.13754157,-22.739969)"
       style="opacity:0">
      <g
         class="g31050-9-6"
         transform="matrix(1.2310388,0,0,1.2310388,-31.002421,9.9615129)">
        <rect
           style="display:inline;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.239705;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
           class="mpsc-renderpill-1-0-5-1"
           width="6.2992907"
           height="1.8576125"
           x="115.29055"
           y="42.177227"
           ry="0.92880625" />
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.2603px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.0590767"
           x="116.51453"
           y="43.428009"
           class="mpsc-rendertext-1-6-0-0"
           transform="scale(0.99664827,1.003363)"><tspan
             class="tspan2334-06-0-0-6-9-5-1-9-4-8-9-0-2-3-9-3-4-6"
             x="116.51453"
             y="43.428009"
             style="stroke-width:0.0590767">render</tspan></text>
      </g>
      <g
         class="g30982-8-1"
         transform="matrix(1.2310388,0,0,1.2310388,-30.437208,19.827195)">
        <rect
           style="display:inline;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.238955;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
           class="mpsc-datapill-1-2-7-5"
           width="6.3006792"
           height="1.8455876"
           x="114.83072"
           y="39.696373"
           ry="0.92279381" />
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.69923px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.0796511"
           x="115.94912"
           y="41.247669"
           class="mpsc-datatext-1-0-1-9"><tspan
             class="tspan2334-06-8-8-0-9-0-7-4-4-3-9-9-1-11-6-7-4"
             x="115.94912"
             y="41.247669"
             style="stroke-width:0.0796511">data</tspan></text>
      </g>
      <g
         class="g30916-2-9"
         transform="matrix(1.2310388,0,0,1.2310388,-31.143813,13.375434)">
        <rect
           style="display:inline;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.238955;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
           class="mpsc-datapill-2-1-7-0"
           width="6.3006792"
           height="1.8455876"
           x="115.40503"
           y="42.183239"
           ry="0.92279381" />
        <text
           xml:space="preserve"
           style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.69923px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.0796511"
           x="116.52343"
           y="43.734531"
           class="mpsc-datatext-2-5-2-9"><tspan
             class="tspan2334-06-8-8-0-9-0-7-4-4-3-0-2-5-2-7-5-2-1"
             x="116.52343"
             y="43.734531"
             style="stroke-width:0.0796511">data</tspan></text>
      </g>
    </g>
  </g>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="more-42"
     transform="matrix(0.41020642,0,0,0.41020642,74.313511,0.62770354)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan43078">+42 more</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;opacity:0;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="more-719"
     transform="matrix(0.41020642,0,0,0.41020642,73.605003,0.62770354)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan43080">+719 more</tspan></text>
  <g
     class="more-719-glow"
     transform="translate(-8.5464836,-8.8584535)"
     style="opacity:0">
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#b3ff80;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
       x="84.371239"
       y="123.06367"
       class="text9881-5-8-8-4-9-2-83-0-9-3-4-7-6"
       transform="matrix(0.41020642,0,0,0.41020642,82.151487,9.4861571)"><tspan
         x="84.371239"
         y="123.06367"
         class="tspan43082">+719 more</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none;filter:url(#filter37806)"
       x="84.371239"
       y="123.06367"
       class="text9881-5-8-8-4-9-2-83-0-9-3-4-7-6-6"
       transform="matrix(0.41020642,0,0,0.41020642,82.151487,9.4861571)"><tspan
         x="84.371239"
         y="123.06367"
         class="tspan43084">+719 more</tspan></text>
  </g>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;opacity:0;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="ninetysixk-more"
     transform="matrix(0.41020642,0,0,0.41020642,73.605003,0.6277031)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan43086">+96K more</tspan></text>
  <g
     class="ninetysixk-more-glow"
     transform="translate(5.8539739,-21.853988)"
     style="opacity:0">
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#b3ff80;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
       x="84.371239"
       y="123.06367"
       class="text9881-5-8-8-4-9-2-83-0-9-3-4-7-6-4-4"
       transform="matrix(0.41020642,0,0,0.41020642,67.751029,22.481691)"><tspan
         x="84.371239"
         y="123.06367"
         class="tspan43088">+96K more</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;mix-blend-mode:normal;fill:#b3ff80;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none;filter:url(#filter76424)"
       x="84.371239"
       y="123.06367"
       class="text9881-5-8-8-4-9-2-83-0-9-3-4-7-6-4-4-2"
       transform="matrix(0.41020642,0,0,0.41020642,67.751029,22.481691)"><tspan
         x="84.371239"
         y="123.06367"
         class="tspan43090">+96K more</tspan></text>
  </g>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;opacity:0;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="onetwentyfourk-more"
     transform="matrix(0.41020642,0,0,0.41020642,72.896496,0.6277031)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan43092">+124K more</tspan></text>
  <g
     class="onetwentyfourk-more-glow"
     transform="translate(-12.975131,-24.12769)"
     style="opacity:0">
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#b3ff80;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
       x="84.371239"
       y="123.06367"
       class="text9881-5-8-8-4-9-2-83-0-9-3-4-7-6-4-4-26"
       transform="matrix(0.41020642,0,0,0.41020642,85.871627,24.755393)"><tspan
         x="84.371239"
         y="123.06367"
         class="tspan43094">+124K more</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;mix-blend-mode:normal;fill:#b3ff80;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none;filter:url(#filter76424-0)"
       x="84.371239"
       y="123.06367"
       class="text9881-5-8-8-4-9-2-83-0-9-3-4-7-6-4-4-2-6"
       transform="matrix(0.41020642,0,0,0.41020642,85.871626,24.755393)"><tspan
         x="84.371239"
         y="123.06367"
         class="tspan43096">+124K more</tspan></text>
  </g>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;opacity:0;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="seventeenk-more"
     transform="matrix(0.41020642,0,0,0.41020642,73.605003,0.6114954)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan43098">+17K more</tspan></text>
  <g
     class="seventeenk-more-glow"
     style="opacity:0"
     transform="translate(9.4666326,-22.857505)">
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#b3ff80;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
       x="84.371239"
       y="123.06367"
       class="text9881-5-8-8-4-9-2-83-0-9-3-4-7-6-4-4-3"
       transform="matrix(0.41020642,0,0,0.41020642,64.138371,23.469)"><tspan
         x="84.371239"
         y="123.06367"
         class="tspan43100">+17K more</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#b3ff80;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none;filter:url(#filter73201)"
       x="84.371239"
       y="123.06367"
       class="text9881-5-8-8-4-9-2-83-0-9-3-4-7-6-4-4-3-1"
       transform="matrix(0.41020642,0,0,0.41020642,64.138371,23.469)"><tspan
         x="84.371239"
         y="123.06367"
         class="tspan43102">+17K more</tspan></text>
  </g>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;opacity:0;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="twok-more"
     transform="matrix(0.41020642,0,0,0.41020642,74.313511,0.62770355)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan43104">+2K more</tspan></text>
  <g
     class="twok-more-glow"
     style="opacity:0"
     transform="translate(-7.6934942,-22.55645)">
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#b3ff80;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
       x="84.371239"
       y="123.06367"
       class="text9881-5-8-8-4-9-2-83-0-9-3-4-7-6-4-6-8"
       transform="matrix(0.41020642,0,0,0.41020642,82.007005,23.184153)"><tspan
         x="84.371239"
         y="123.06367"
         class="tspan43106">+2K more</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;mix-blend-mode:normal;fill:#b3ff80;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none;filter:url(#filter62896)"
       x="84.371239"
       y="123.06367"
       class="text9881-5-8-8-4-9-2-83-0-9-3-4-7-6-4-6-8-8"
       transform="matrix(0.41020642,0,0,0.41020642,82.007005,23.184153)"><tspan
         x="84.371239"
         y="123.06367"
         class="tspan43108">+2K more</tspan></text>
  </g>
  <rect
     style="opacity:0;fill:#eacb8b;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
     class="state-yellow-box"
     width="19.220129"
     height="15.408015"
     x="145.17606"
     y="38.336239" />
  <rect
     style="opacity:0;fill:#be616b;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
     class="state-red-box"
     width="19.220129"
     height="15.408015"
     x="145.17606"
     y="38.336239" />
  <g
     class="state-text-first-black"
     transform="translate(87.85515,-38.185284)"
     style="opacity:0">
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-9-9"
       width="16.488413"
       height="0.50623542"
       x="58.686771"
       y="80.686409" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-3-2"
       width="16.488413"
       height="0.50623542"
       x="58.686771"
       y="83.972412" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-0-0"
       width="11.177862"
       height="0.50623542"
       x="58.686771"
       y="87.258415" />
  </g>
  <g
     class="state-text-first-yellow"
     transform="translate(-2.9807529,-39.24168)">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-9"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="81.742805" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-3"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="85.028809" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-0"
       width="11.177862"
       height="0.50623542"
       x="149.52267"
       y="88.314812" />
  </g>
  <g
     class="state-text-second-yellow"
     transform="translate(0.25591087,0.07394394)"
     style="opacity:0">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="40.875057" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="44.100468" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-2"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="47.325901" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7"
       width="11.177862"
       height="0.50623542"
       x="146.28601"
       y="50.551311" />
  </g>
  <g
     class="state-text-first-yellow-2"
     transform="translate(-2.9807529,-39.24168)"
     style="opacity:0">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-9-8"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="81.742805" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-3-9"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="85.028809" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-0-7"
       width="11.177862"
       height="0.50623542"
       x="149.52267"
       y="88.314812" />
  </g>
  <g
     class="state-text-first-yellow-on-screen"
     transform="translate(34.397212,-39.24178)">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-9-8-4"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="81.742805" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-3-9-7"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="85.028809" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-0-7-8"
       width="11.177862"
       height="0.50623542"
       x="149.52267"
       y="88.314812" />
  </g>
  <g
     class="state-text-second-yellow-2"
     transform="translate(0.25591087,0.07394394)"
     style="opacity:0">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-7"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="40.875057" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-5"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="44.100468" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-2-9"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="47.325901" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-2"
       width="11.177862"
       height="0.50623542"
       x="146.28601"
       y="50.551311" />
  </g>
  <g
     class="state-text-second-black"
     transform="translate(66.306257,-39.827931)"
     style="opacity:0">
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-2"
       width="16.488413"
       height="0.50623542"
       x="80.235664"
       y="80.776932" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-6"
       width="16.488413"
       height="0.50623542"
       x="80.235664"
       y="84.002342" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-2-1"
       width="16.488413"
       height="0.50623542"
       x="80.235664"
       y="87.227776" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-8"
       width="11.177862"
       height="0.50623542"
       x="80.235664"
       y="90.453186" />
  </g>
</svg>

  </figure>
</div>
<script src=/img/performance-2.js></script> 

<p>Since there&rsquo;s no synchronization between the pty thread and the screen thread, the former ends up filling the MPSC channel with data much faster than the screen thread can handle it.
This affects performance in a few ways:</p>
<ol>
<li>The channel buffer keeps growing, taking up more and more memory</li>
<li>The screen thread ends up rendering more than it should, because the 30ms counter on the pty thread becomes less and less relevant as the screen thread takes more and more time to process the messages in the queue.</li>
</ol>
<h3 id="solution-switch-the-mpsc-channel-to-be-bounded-implement-backpressure">Solution: switch the MPSC channel to be bounded (implement backpressure)</h3>
<p>The solution to this immediate problem is to create a synchronization between the two threads by limiting the buffer size of the MPSC channel.
To do this, we switched the asynchronous channel to a bounded synchronous channel with a relatively small buffer (50 messages). We also switched our channels to <a href="https://docs.rs/crossbeam/0.7.3/crossbeam/channel/index.html"><code>crossbeam</code></a> which provided a <code>select!</code> macro that we found useful.</p>
<p>Additionally, we removed our custom asynchronous stream implementation in favor of async_std&rsquo;s <a href="https://docs.rs/async-std/1.4.0/async_std/fs/struct.File.html"><code>File</code></a> to get an &ldquo;async i/o&rdquo; effect and not have to constantly poll in the background ourselves.</p>
<p>Let&rsquo;s look at the changes in the code:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="n">task</span>::<span class="n">spawn</span><span class="p">({</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="k">move</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">render_pause</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Duration</span>::<span class="n">from_millis</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">render_deadline</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">None</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">buf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="k">u8</span><span class="p">;</span><span class="w"> </span><span class="mi">65536</span><span class="p">];</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// AsyncFileReader is implemented using async_std&#39;s File
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">async_reader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">AsyncFileReader</span>::<span class="n">new</span><span class="p">(</span><span class="n">pid</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// &#34;async_send_render_to_screen&#34; and &#34;async_send_data_to_screen&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">        </span><span class="c1">// send to a crossbeam bounded channel
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">        </span><span class="c1">// resolving once the send is successful, meaning there is room
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">        </span><span class="c1">// for the message in the channel&#39;s buffer
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">loop</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// deadline_read attempts to read from async_reader or times out
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">            </span><span class="c1">// after the render_deadline has passed
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">            </span><span class="k">match</span><span class="w"> </span><span class="n">deadline_read</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">async_reader</span><span class="p">,</span><span class="w"> </span><span class="n">render_deadline</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">buf</span><span class="p">).</span><span class="k">await</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">ReadResult</span>::<span class="nb">Ok</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ReadResult</span>::<span class="nb">Err</span><span class="p">(</span><span class="n">_</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="k">break</span><span class="p">,</span><span class="w"> </span><span class="c1">// EOF or error
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">                </span><span class="n">ReadResult</span>::<span class="n">Timeout</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">async_send_render_to_screen</span><span class="p">(</span><span class="n">bytes</span><span class="p">).</span><span class="k">await</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">render_deadline</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">None</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">ReadResult</span>::<span class="nb">Ok</span><span class="p">(</span><span class="n">n_bytes</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="kd">let</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">buf</span><span class="p">[</span><span class="o">..</span><span class="n">n_bytes</span><span class="p">];</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">async_send_data_to_screen</span><span class="p">(</span><span class="n">bytes</span><span class="p">).</span><span class="k">await</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                    </span><span class="n">render_deadline</span><span class="p">.</span><span class="n">get_or_insert</span><span class="p">(</span><span class="n">Instant</span>::<span class="n">now</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">render_pause</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">})</span><span class="w">
</span></span></span></code></pre></div><p>And here&rsquo;s <a href="https://github.com/zellij-org/zellij/blob/8ccf3d61a02e8df8c45e70b230d4cf3266195f0b/zellij-server/src/pty.rs#L164">the real world version</a>.</p>
<p>So here is more or less what things look like afterwards:</p>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.0/ScrollTrigger.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.7.1/TextPlugin.min.js"></script>
<div data-nosnippet>
  <figure style="display: block">
  <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   class="performance3"
   max-width="207.883mm"
   max-height="78.695mm"
   viewBox="0 0 207.883 78.695"
   version="1.1"
   id="svg5"
   sodipodi:docname="performance-3.svg"
   inkscape:version="1.1 (c4e8f9ed74, 2021-05-24)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview136"
     pagecolor="#505050"
     bordercolor="#eeeeee"
     borderopacity="1"
     inkscape:pageshadow="0"
     inkscape:pageopacity="0"
     inkscape:pagecheckerboard="0"
     inkscape:document-units="mm"
     showgrid="false"
     inkscape:snap-global="false"
     inkscape:zoom="10.546251"
     inkscape:cx="444.09147"
     inkscape:cy="166.26762"
     inkscape:window-width="1890"
     inkscape:window-height="1006"
     inkscape:window-x="1934"
     inkscape:window-y="36"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg5" />
  <defs
     id="defs2">
    <filter
       id="selectable_hidder_filter"
       width="1"
       height="1"
       x="0"
       y="0"
       style="color-interpolation-filters:sRGB;"
       inkscape:label="LPE boolean visibility">
      <feComposite
         id="boolops_hidder_primitive"
         result="composite1"
         operator="arithmetic"
         in2="SourceGraphic"
         in="BackgroundImage" />
    </filter>
    <inkscape:path-effect
       effect="bool_op"
       id="path-effect16510"
       is_visible="true"
       lpeversion="1"
       operand-path=""
       operation="union"
       swap-operands="false"
       rmv-inner="false"
       filltype-this="from-curve"
       filter=""
       filltype-operand="from-curve" />
  </defs>
  <rect
     style="display:inline;opacity:1;fill:#232425;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.449792;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2025-7-8-3-9-2-0-20-6-4-6"
     width="207.43333"
     height="78.244713"
     x="0.224896"
     y="0.224896" />
  <g
     class="g4892-2-6-9-7-0-7-40-4-8-92"
     transform="translate(54.70917,-108.5174)">
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-13-1-0-8-9-6-84-9-3-5"
       d="m 44.059171,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-4-5-7-7-1-1-4-4-8-7"
       d="m 47.177568,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-6-9-6-2-2-7-3-8-2-7-0"
       d="m 50.012014,153.64275 -1.628216,0.94005 v -1.8801 z" />
  </g>
  <g
     class="g4016-4-1-7-6-7-2-2-9-5-5"
     transform="translate(48.58507,-108.5174)">
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-1-1-7-2-6-1-1-42-3-4-87"
       d="m 77.387098,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-8-9-2-9-2-1-5-7-8-4-3"
       d="m 80.505491,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-6-7-5-2-0-9-5-9-7-2-9-2"
       d="m 83.33994,153.64275 -1.628215,0.94005 v -1.8801 z" />
  </g>
  <rect
     style="opacity:0.96;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2027-3-3-7-9-5-7-9-9-9-4-3-2"
     width="41.360611"
     height="54.337212"
     x="133.71855"
     y="18.661497"
     ry="2.4579999" />
  <g
     class="g10205-4-2-0-0-7-1-93-5-8-2"
     transform="translate(54.67634,-110.1063)">
    <g
       class="g9769-1-8-4-3-7-4-98-4-8-6"
       transform="matrix(0.37734871,0,0,0.43895331,61.530438,134.97679)">
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.794001;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect9745-2-1-1-7-6-9-4-3-8-3"
         width="33.825642"
         height="4.9246316"
         x="184.37927"
         y="78.478394"
         ry="2.4623158" />
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.624034;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect9745-7-2-2-7-2-7-1-0-2-7-7"
         width="33.995609"
         height="3.0267117"
         x="184.2943"
         y="80.461296" />
    </g>
    <rect
       style="fill:#2c2d2e;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.477977;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect9738-1-4-9-3-3-0-8-2-9-7"
       width="2.5999832"
       height="4.210155"
       x="136.18776"
       y="166.02679" />
  </g>
  <rect
     style="fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.804155;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2585-0-7-2-8-6-1-5-5-59-7-6-5"
     width="22.837845"
     height="19.126844"
     x="180.74516"
     y="36.476727"
     ry="0.99488556" />
  <rect
     style="fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.765559;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2585-0-0-6-2-7-6-8-0-4-9-3"
     width="21.670319"
     height="18.268806"
     x="181.32893"
     y="36.905743" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;white-space:pre;inline-size:43.7373;opacity:1;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.264583"
     x="163.63741"
     y="138.89725"
     class="text2695-4-2-9-1-35-2-4-89-7-3-9"
     transform="matrix(0.48273654,0,0,0.22718746,75.70476,32.2587)"><tspan
       x="163.63741"
       y="138.89725"
       class="tspan38334">render</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="text9881-5-8-8-4-9-2-83-0-9-3"
     transform="translate(59.675,-114.1455)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan38336">Screen </tspan><tspan
       x="84.371239"
       y="130.11922"
       class="tspan38338">thread</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;white-space:pre;inline-size:41.3906;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="96.148354"
     y="123.06367"
     class="text9881-9-1-5-8-0-3-0-1-1-6-7-4"
     transform="matrix(0.56184599,0,0,0.56184599,60.54843,-37.7389)"><tspan
       x="96.148354"
       y="123.06367"
       class="tspan38340">MPSC<tspan
   y="123.06367"
   class="tspan38342"> </tspan></tspan><tspan
       x="96.148354"
       y="130.11922"
       class="tspan38344">channel</tspan></text>
  <rect
     style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.804157;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2585-09-6-4-55-0-4-88-2-7-20"
     width="22.837545"
     height="19.127131"
     x="143.36736"
     y="36.476681" />
  <rect
     style="fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.902064;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2587-9-9-3-6-3-0-76-3-2-1"
     width="13.914153"
     height="5.5298657"
     x="147.82909"
     y="34.244747" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.22183px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.151023"
     x="149.93608"
     y="37.31921"
     class="text2591-13-2-7-0-0-9-04-1-1-6"><tspan
       class="tspan2589-4-9-3-6-4-1-9-0-3-4"
       x="149.93608"
       y="37.31921"
       style="fill:#a3bd8d;fill-opacity:1;stroke-width:0.151023">state</tspan></text>
  <rect
     style="fill:#252627;fill-opacity:1;stroke:#eacb8b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect3667-8-3-7-6-4-6-2-4-9-5"
     width="19.980745"
     height="7.0723147"
     x="144.85132"
     y="23.973749"
     ry="1.3051714" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.14183px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.100398"
     x="149.0118"
     y="26.531519"
     class="text3673-5-0-2-9-4-2-2-8-5-0"><tspan
       class="tspan3671-7-3-1-9-76-5-46-0-3-8"
       x="149.0118"
       y="26.531519"
       style="fill:#eacb8b;fill-opacity:1;stroke-width:0.100398">interpret</tspan></text>
  <g
     class="g1759-2-3-3-7-2-3-4-0-1-2-7"
     transform="matrix(0.36148344,0,0,0.36148344,145.01949,6.62376)">
    <rect
       style="fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.79375;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2332-36-5-3-7-9-9-1-4-2-8-4-5"
       width="20.929356"
       height="6.1306024"
       x="15.993655"
       y="58.318031"
       ry="3.0653012" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
       x="19.708708"
       y="63.471058"
       class="text2336-1-4-8-9-5-6-7-9-3-7-8-8"><tspan
         class="tspan2334-06-4-9-4-6-5-5-9-9-3-3-8"
         x="19.708708"
         y="63.471058"
         style="stroke-width:0.264583">data</tspan></text>
  </g>
  <rect
     style="opacity:1;fill:#252627;fill-opacity:1;stroke:#be616b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect3667-9-5-9-9-3-6-6-6-7-9-8"
     width="19.980745"
     height="7.0723147"
     x="144.8513"
     y="60.614452"
     ry="1.3051714" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.34061px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:1;fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.109716"
     x="150.5256"
     y="65.016899"
     class="text2336-1-1-1-3-1-5-8-2-0-86-1-2-7"><tspan
       class="tspan2334-06-0-7-8-9-5-67-1-5-9-3-6-5"
       x="150.5256"
       y="65.016899"
       style="fill:#be616b;fill-opacity:1;stroke-width:0.109716">render</tspan></text>
  <g
     class="g5007-6-4-2-3-7-0-7-4-7-1"
     transform="translate(48.15304,-108.5174)">
    <path
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.870066;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-6-6-0-2-1-6-8-2-26-4-5-9"
       d="m 124.16837,153.70276 -2.5083,1.44817 v -2.89634 z" />
    <rect
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.423106;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect3637-3-5-3-0-5-0-5-9-8-2-6-9"
       width="2.5802417"
       height="1.0212411"
       x="119.69323"
       y="153.19214" />
  </g>
  <g
     class="g10945-3-6-9-2-7-4-8-4-3-9"
     transform="translate(54.67634,-108.9046)">
    <path
       style="fill:none;stroke:#eacb8b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 81.799871,152.68285 c 0,0 0.04456,0 1.077976,0 1.033417,0 0.939932,-1.62801 0.939932,-1.62801 0,0 0,-12.25937 0,-14.04412 0,-1.78476 1.673315,-1.67332 1.673315,-1.67332 h 3.001058"
       class="path10892-6-5-9-6-4-3-98-6-1-4" />
    <path
       style="fill:none;stroke:#be616b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 81.799871,155.37719 c 0,0 0.04456,0 1.077976,0 1.033417,0 0.939932,1.62801 0.939932,1.62801 0,0 0,12.25937 0,14.04412 0,1.78476 1.673315,1.67332 1.673315,1.67332 h 3.001058"
       class="path10892-1-1-9-1-9-1-5-8-4-7-6" />
  </g>
  <rect
     style="opacity:0.96;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2027-27-1-6-4-9-8-4"
     width="18.190741"
     height="8.5138264"
     x="3.5060866"
     y="40.95414"
     ry="1.0949117" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.6003px;line-height:1.25;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none"
     x="10.045942"
     y="44.046669"
     class="text2033-1-1-5-1-4-5-27"><tspan
       class="tspan2031-5-0-2-5-9-7-3"
       x="10.045942"
       y="44.046669"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';fill:#a3bd8d;fill-opacity:1;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none">PTY</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.2032px;line-height:1.25;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.658338;stroke-miterlimit:4;stroke-dasharray:none"
     x="5.3421459"
     y="47.361855"
     class="text2037-8-3-4-2-0-3-32"><tspan
       class="tspan2035-8-0-1-4-5-5-1"
       x="5.3421459"
       y="47.361855"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';fill:#eacb8b;fill-opacity:1;stroke-width:0.658338;stroke-miterlimit:4;stroke-dasharray:none">cat bigfile</tspan></text>
  <rect
     style="opacity:0.96;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2027-3-7-4-0-3-5-2-3"
     width="42.945576"
     height="30.59757"
     x="52.408554"
     y="30.655069"
     ry="2.4579999" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="text9881-9-19-0-9-2-5-7-5"
     transform="translate(-27.8182,-96.2044)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan38346">PTY thread</tspan></text>
  <path
     class="path10730-9-0-5-94-2-7-0-64"
     style="fill:none;stroke:#eacb8b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
     d="m 91.48514,44.1121 h -0.94927 c -1.42868,0 -1.38529,-1.3853 -1.38529,-1.3853 v -4.5342 c 0,-0.8232 -0.83075,-0.8307 -0.83075,-0.8307 h -7.32764" />
  <g
     class="g6596">
    <path
       class="path10730-96-0-4-2-9-7-4"
       style="fill:none;stroke:#a3bd8d;stroke-width:0.564999;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 56.27748,44.1121 h 0.94928 c 1.42867,0 1.38528,-1.3853 1.38528,-1.3853 v -4.5342 c 0,-0.8232 0.83075,-0.8307 0.83075,-0.8307 h 7.32765" />
    <path
       class="path10794-1-8-0-9-7-0-1"
       style="fill:none;stroke:#a3bd8d;stroke-width:0.564999;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.13, 0.564999;stroke-dashoffset:0;stroke-opacity:1"
       d="m 56.22535,46.7327 h 0.94927 c 1.42868,0 1.38529,1.3852 1.38529,1.3852 v 4.5342 c 0,0.8232 0.83074,0.8307 0.83074,0.8307 h 4.20798" />
  </g>
  <path
     class="path10794-2-3-4-7-2-0-7-4"
     style="fill:none;stroke:#be616b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
     d="M 91.53727,46.7341 H 90.588 c -1.42867,0 -1.38529,1.3852 -1.38529,1.3852 v 4.5342 c 0,0.8232 -0.83074,0.8307 -0.83074,0.8307 H 84.164" />
  <g
     class="g16140-5-2-0-1-7-8-5"
     transform="translate(-321.57722,-357.5804)">
    <g
       class="g2115-9-9-8-8-5-09-2-1-6-0-6-4"
       transform="matrix(0.41743408,0,0,0.41743408,370.85606,375.51842)">
      <circle
         style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.529167;stroke-opacity:1;stop-color:#000000"
         class="path2080-6-4-0-4-7-6-2-48-0-2-7-3"
         cx="45.259174"
         cy="85.380898"
         r="4.3000474" />
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.578573;stroke-opacity:1;stop-color:#000000"
         class="rect2082-9-5-1-6-0-3-0-6-2-4-5-0"
         width="0.51719606"
         height="3.5355656"
         x="45.000576"
         y="81.877541"
         ry="0.24326056" />
      <circle
         style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.364369;stroke-opacity:1;stop-color:#000000"
         class="path2084-3-4-7-6-7-8-5-66-2-5-0-4"
         cx="45.259174"
         cy="85.380898"
         r="0.55912954" />
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.484478;stroke-opacity:1;stop-color:#000000"
         class="rect2082-1-3-6-9-7-8-5-5-6-2-7-5-5"
         width="0.51719606"
         height="2.4790738"
         x="63.828659"
         y="-74.721771"
         ry="0.25859803"
         transform="rotate(110.5351)" />
    </g>
    <g
       class="g1849-0-8-6-1-2-9-6-2-17-2-8-8-5"
       transform="matrix(0.36898333,0,0,0.36898333,389.08337,384.20605)">
      <rect
         style="fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.79375;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect2332-36-2-3-0-3-0-7-9-1-9-8-7-7-7-4"
         width="20.929356"
         height="6.1306024"
         x="16.0931"
         y="69.982071"
         ry="3.0653012" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.17331px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.195624"
         x="18.862219"
         y="74.591988"
         class="text2336-1-1-4-5-9-3-4-3-1-0-2-3-2-0-0"><tspan
           class="tspan2334-06-0-0-6-9-5-1-9-5-2-96-6-2-3-9"
           x="18.862219"
           y="74.591988"
           style="stroke-width:0.195624">render</tspan></text>
    </g>
    <rect
       style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.238185;stroke-opacity:1;stop-color:#000000"
       class="rect2167-6-5-9-0-4-98-8-59-1-9-9-2"
       width="0.3558152"
       height="4.3115063"
       x="563.85455"
       y="72.519592"
       ry="0.12551111"
       transform="rotate(38.732515)" />
    <rect
       style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.564965;stroke-miterlimit:4;stroke-dasharray:1.12993, 0.564965;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2169-4-2-4-0-6-4-3-43-0-1-6-1"
       width="18.468237"
       height="5.3369279"
       x="386.13278"
       y="408.49084"
       ry="0.94660914" />
  </g>
  <g
     class="g14145-9-0-3-1-4-5-7-7-3"
     transform="translate(-321.57723,-25.533646)"
     style="display:inline">
    <rect
       style="fill:none;fill-opacity:1;stroke:#eacb8b;stroke-width:0.456411;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2332-36-3-1-7-0-8-4-296-7-4-9-6"
       width="12.034513"
       height="3.5251355"
       x="389.40118"
       y="61.139587"
       ry="1.7625678" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.72145px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.127568;stroke-opacity:1"
       x="392.16412"
       y="63.908745"
       class="text2336-1-6-2-6-6-8-6-4-2-3-6-7"><tspan
         class="tspan2334-06-8-8-8-8-3-9-5-7-5-2-5"
         x="392.16412"
         y="63.908745"
         style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.127568;stroke-opacity:1">data</tspan></text>
  </g>
  <rect
     style="display:inline;opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.323699;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="datapill-animate-rect"
     width="8.5351915"
     height="2.5001183"
     x="69.573616"
     y="36.118446"
     ry="1.2500591" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.30186px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.107899"
     x="71.088654"
     y="38.219902"
     class="datapill-animate-text"><tspan
       class="tspan2334-06-8-8-0-9-0-7-4-4-3-9-9-1-11-0"
       x="71.088654"
       y="38.219902"
       style="stroke-width:0.107899">data</tspan></text>
  <rect
     style="display:inline;opacity:0;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.565;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="render-now-red-box"
     width="18.468237"
     height="5.3369279"
     x="64.555565"
     y="50.910446"
     ry="0.94660914" />
  <g
     class="render-now-text"
     transform="matrix(0.36898334,0,0,0.36898334,60.044692,26.599612)"
     style="display:inline;opacity:0">
    <rect
       style="fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.79375;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2332-36-2-3-0-3-0-7-0-4-6-2"
       width="20.929356"
       height="6.1306024"
       x="16.0931"
       y="69.982071"
       ry="3.0653012" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:6.4052px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.300244"
       x="16.377733"
       y="75.487091"
       class="text2336-1-1-4-5-9-3-4-2-9-0-9"><tspan
         class="tspan2334-06-0-0-6-9-5-1-2-1-7-1"
         x="16.377733"
         y="75.487091"
         style="stroke-width:0.300244">render now!</tspan></text>
  </g>
  <rect
     style="display:inline;opacity:0;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.324716;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="renderpill-animate-rect"
     width="8.5333099"
     height="2.5164077"
     x="69.231102"
     y="52.29467"
     ry="1.2582039" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.70726px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.080028"
     x="70.596764"
     y="54.00526"
     class="renderpill-animate-text"
     transform="scale(0.99664827,1.003363)"><tspan
       class="tspan2334-06-0-0-6-9-5-1-9-4-8-9-0-2-3-9-6"
       x="70.596764"
       y="54.00526"
       style="stroke-width:0.080028">render</tspan></text>
  <rect
     style="display:inline;opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.456411;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="datapill"
     width="12.034513"
     height="3.5251355"
     x="67.823952"
     y="35.605942"
     ry="1.7625678" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.24559px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.152137"
     x="69.960136"
     y="38.568962"
     class="datapilltext"><tspan
       class="tspan2334-06-8-8-0-70-5-0-3-0"
       x="69.960136"
       y="38.568962"
       style="stroke-width:0.152137">data</tspan></text>
  <g
     inkscape:groupmode="layer"
     class="layer2"
     inkscape:label="stuff">
    <g
       class="g20596"
       transform="translate(0.14505672,-25.963708)">
      <rect
         style="display:inline;opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.456411;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="datapill-animate-rect-2"
         width="12.034513"
         height="3.5251355"
         x="108.37029"
         y="69.326607"
         ry="1.7625678" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.24559px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.152137"
         x="110.50647"
         y="72.289627"
         class="datapill-animate-text-2"><tspan
           class="tspan2334-06-8-8-0-70-5-0-3-0-7"
           x="110.50647"
           y="72.289627"
           style="stroke-width:0.152137">data</tspan></text>
    </g>
  </g>
  <g
     inkscape:groupmode="layer"
     class="layer3"
     inkscape:label="above">
    <g
       class="render-animate-pill-2"
       transform="matrix(0.73820012,0,0,0.73820012,10.023419,-5.2662083)">
      <rect
         style="display:inline;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.324716;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="mpsc-renderpill-1-9"
         width="8.5333099"
         height="2.5164077"
         x="137.36288"
         y="65.248405"
         ry="1.2582039" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.70726px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.080028"
         x="138.95766"
         y="66.915581"
         class="mpsc-rendertext-1-3"
         transform="scale(0.99664827,1.003363)"><tspan
           class="tspan2334-06-0-0-6-9-5-1-9-4-8-9-0-2-3-9-1"
           x="138.95766"
           y="66.915581"
           style="stroke-width:0.080028">render</tspan></text>
    </g>
    <rect
       style="fill:#252627;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2323-7-2-7-7-9-6-07-9-9-1"
       width="16.359676"
       height="15.364467"
       x="106.48487"
       y="37.443233"
       ry="2.4579999" />
    <rect
       style="opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="interpret-yellow-box"
       width="19.980745"
       height="7.0723147"
       x="144.85132"
       y="23.973749"
       ry="1.3051714" />
    <g
       class="interpret-data-text"
       transform="translate(36.96961,-35.866915)"
       style="opacity:0">
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.14183px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.100398"
         x="112.04218"
         y="62.636395"
         class="interpret-text"><tspan
           class="tspan3671-7-3-1-6-3"
           x="112.04218"
           y="62.636395"
           style="fill:#252627;fill-opacity:1;stroke-width:0.100398">interpret</tspan></text>
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.04037px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.0956424"
         x="115.17424"
         y="65.672371"
         class="data-text"><tspan
           class="tspan2334-06-4-9-4-6-3-5"
           x="115.17424"
           y="65.672371"
           style="fill:#252627;fill-opacity:1;stroke-width:0.0956424">data</tspan></text>
    </g>
    <g
       class="active-render-button"
       transform="translate(-35.305206,-7.5366173)"
       style="opacity:0">
      <rect
         style="fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect3667-9-5-9-9-3-6-6-6-7-9-8-3"
         width="19.980745"
         height="7.0723147"
         x="180.15651"
         y="68.15107"
         ry="1.3051714" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.34061px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#232425;fill-opacity:1;stroke:none;stroke-width:0.109716"
         x="185.83081"
         y="72.553528"
         class="text2336-1-1-1-3-1-5-8-2-0-86-1-2-7-6"><tspan
           class="tspan2334-06-0-7-8-9-5-67-1-5-9-3-6-5-1"
           x="185.83081"
           y="72.553528"
           style="fill:#232425;fill-opacity:1;stroke-width:0.109716">render</tspan></text>
    </g>
  </g>
  <rect
     style="opacity:0;fill:#eacb8b;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
     class="state-yellow-box"
     width="19.220129"
     height="15.408015"
     x="145.17606"
     y="38.336239" />
  <rect
     style="opacity:0;fill:#be616b;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
     class="state-red-box"
     width="19.220129"
     height="15.408015"
     x="145.17606"
     y="38.336239" />
  <g
     class="state-text-first-black"
     transform="translate(87.85515,-38.185284)"
     style="opacity:0">
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-9-9"
       width="16.488413"
       height="0.50623542"
       x="58.686771"
       y="80.686409" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-3-2"
       width="16.488413"
       height="0.50623542"
       x="58.686771"
       y="83.972412" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-0-0"
       width="11.177862"
       height="0.50623542"
       x="58.686771"
       y="87.258415" />
  </g>
  <g
     class="state-text-first-yellow"
     transform="translate(-2.9807529,-39.24168)">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-9"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="81.742805" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-3"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="85.028809" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-0"
       width="11.177862"
       height="0.50623542"
       x="149.52267"
       y="88.314812" />
  </g>
  <g
     class="state-text-second-yellow"
     transform="translate(0.25591087,0.07394394)"
     style="opacity:0">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="40.875057" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="44.100468" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-2"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="47.325901" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7"
       width="11.177862"
       height="0.50623542"
       x="146.28601"
       y="50.551311" />
  </g>
  <g
     class="state-text-first-yellow-2"
     transform="translate(-2.9807529,-39.24168)"
     style="opacity:0">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-9-8"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="81.742805" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-3-9"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="85.028809" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-0-7"
       width="11.177862"
       height="0.50623542"
       x="149.52267"
       y="88.314812" />
  </g>
  <g
     class="state-text-first-yellow-on-screen"
     transform="translate(34.397212,-39.24178)">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-9-8-4"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="81.742805" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-3-9-7"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="85.028809" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-0-7-8"
       width="11.177862"
       height="0.50623542"
       x="149.52267"
       y="88.314812" />
  </g>
  <g
     class="state-text-second-yellow-2"
     transform="translate(0.25591087,0.07394394)"
     style="opacity:0">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-7"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="40.875057" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-5"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="44.100468" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-2-9"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="47.325901" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-2"
       width="11.177862"
       height="0.50623542"
       x="146.28601"
       y="50.551311" />
  </g>
  <g
     class="state-text-second-black"
     transform="translate(66.306257,-39.827931)"
     style="opacity:0">
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-2"
       width="16.488413"
       height="0.50623542"
       x="80.235664"
       y="80.776932" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-6"
       width="16.488413"
       height="0.50623542"
       x="80.235664"
       y="84.002342" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-2-1"
       width="16.488413"
       height="0.50623542"
       x="80.235664"
       y="87.227776" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-8"
       width="11.177862"
       height="0.50623542"
       x="80.235664"
       y="90.453186" />
  </g>
  <g
     class="g24068"
     transform="translate(1.4625954,-20.461808)">
    <g
       class="g23913"
       transform="translate(-1.4625954,20.461808)">
      <g
         class="g4686"
         style="fill:#a3bd8d;fill-opacity:1"
         transform="translate(5.0755025,-21.221719)">
        <path
           style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:4.5265;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
           class="path2400-6-2-1-4-7-2-6-9-6"
           d="m 43.352039,66.432772 -13.04939,7.534079 V 58.898692 Z" />
        <path
           class="rect3637-3-7-3-99-4-5-4-9-7"
           style="stroke-width:2.84455;stop-color:#000000"
           d="m 20.070185,61.996517 h 13.423663 v 8.87251 H 20.070185 Z" />
      </g>
      <g
         class="g23905">
        <path
           style="fill:#232425;fill-opacity:1;stroke:none;stroke-width:3.97385;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
           class="path2400-6-2-1-4-7-2-6-9-6-1"
           d="M 47.340834,45.211053 35.884628,51.825306 V 38.596799 Z" />
        <path
           class="rect3637-3-7-3-99-4-5-4-9-7-2"
           style="fill:#232425;fill-opacity:1;stroke-width:2.62196;stop-color:#000000"
           d="m 25.57169,41.182141 h 12.558099 v 8.057824 H 25.57169 Z" />
      </g>
    </g>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.75566px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.129172"
       x="26.093975"
       y="66.692108"
       class="text5666-5"><tspan
         sodipodi:role="line"
         class="tspan5664-3"
         style="fill:#eacb8b;fill-opacity:1;stroke-width:0.129172"
         x="26.093975"
         y="66.692108">New data</tspan></text>
  </g>
  <g
     class="new-data-yellow-arrow"
     style="opacity:0">
    <g
       class="g4638"
       transform="translate(-5.1635751e-8,-0.213666)">
      <path
         style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:4.5265;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="path2400-6-2-1-4-7-2-6-9"
         d="m 48.427542,45.424719 -13.04939,7.534079 V 37.890639 Z" />
      <rect
         style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:2.84455;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect3637-3-7-3-99-4-5-4-9"
         width="13.423663"
         height="8.87251"
         x="25.145687"
         y="40.988464" />
    </g>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.75566px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.129172"
       x="27.55657"
       y="46.230297"
       class="text5666"><tspan
         sodipodi:role="line"
         class="tspan5664"
         style="stroke-width:0.129172"
         x="27.55657"
         y="46.230297">New data</tspan></text>
  </g>
  <rect
     style="opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="newdata-yellow-rect"
     width="18.190741"
     height="8.5138264"
     x="25.166971"
     y="40.740582"
     ry="1.0949117" />
  <rect
     style="display:inline;fill:#232425;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.449792;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2025-7-8-3-9-2-0-20-6-4-6-0"
     width="207.43333"
     height="78.244713"
     x="-6.805779"
     y="156.76401" />
  <g
     class="g4892-2-6-9-7-0-7-40-4-8-92-9"
     transform="translate(48.30938,48.02171)">
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-13-1-0-8-9-6-84-9-3-5-3"
       d="m 44.059171,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-4-5-7-7-1-1-4-4-8-7-6"
       d="m 47.177568,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-6-9-6-2-2-7-3-8-2-7-0-0"
       d="m 50.012014,153.64275 -1.628216,0.94005 v -1.8801 z" />
  </g>
  <g
     class="g4016-4-1-7-6-7-2-2-9-5-5-6"
     transform="translate(42.18528,48.02171)">
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-1-1-7-2-6-1-1-42-3-4-87-2"
       d="m 77.387098,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-8-9-2-9-2-1-5-7-8-4-3-6"
       d="m 80.505491,153.64275 -1.628216,0.94005 v -1.8801 z" />
    <path
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.564787;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-2-6-7-5-2-0-9-5-9-7-2-9-2-1"
       d="m 83.33994,153.64275 -1.628215,0.94005 v -1.8801 z" />
  </g>
  <rect
     style="opacity:0.96;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2027-3-3-7-9-5-7-9-9-9-4-3-2-8"
     width="41.360611"
     height="54.337212"
     x="127.31876"
     y="175.20061"
     ry="2.4579999" />
  <g
     class="g10205-4-2-0-0-7-1-93-5-8-2-7"
     transform="translate(48.27655,46.43281)">
    <g
       class="g9769-1-8-4-3-7-4-98-4-8-6-9"
       transform="matrix(0.37734871,0,0,0.43895331,61.530438,134.97679)">
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.794001;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect9745-2-1-1-7-6-9-4-3-8-3-2"
         width="33.825642"
         height="4.9246316"
         x="184.37927"
         y="78.478394"
         ry="2.4623158" />
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.624034;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect9745-7-2-2-7-2-7-1-0-2-7-7-0"
         width="33.995609"
         height="3.0267117"
         x="184.2943"
         y="80.461296" />
    </g>
    <rect
       style="fill:#2c2d2e;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.477977;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect9738-1-4-9-3-3-0-8-2-9-7-2"
       width="2.5999832"
       height="4.210155"
       x="136.18776"
       y="166.02679" />
  </g>
  <rect
     style="fill:#a3bd8d;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.804155;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2585-0-7-2-8-6-1-5-5-59-7-6-5-3"
     width="22.837845"
     height="19.126844"
     x="174.34537"
     y="193.01584"
     ry="0.99488556" />
  <rect
     style="fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.765559;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2585-0-0-6-2-7-6-8-0-4-9-3-7"
     width="21.670319"
     height="18.268806"
     x="174.92914"
     y="193.44485" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;white-space:pre;inline-size:43.7373;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.264583"
     x="163.63741"
     y="138.89725"
     class="text2695-4-2-9-1-35-2-4-89-7-3-9-5"
     transform="matrix(0.48273654,0,0,0.22718746,69.30497,188.79781)"><tspan
       x="163.63741"
       y="138.89725"
       class="tspan38348">render</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="text9881-5-8-8-4-9-2-83-0-9-3-9"
     transform="translate(53.27521,42.39361)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan38350">Screen </tspan><tspan
       x="84.371239"
       y="130.11922"
       class="tspan38352">thread</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:center;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:middle;white-space:pre;inline-size:41.3906;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="96.148354"
     y="123.06367"
     class="text9881-9-1-5-8-0-3-0-1-1-6-7-4-2"
     transform="matrix(0.56184599,0,0,0.56184599,54.026263,117.14633)"><tspan
       x="96.148354"
       y="123.06367"
       class="tspan38354">MPSC<tspan
   y="123.06367"
   class="tspan38356"> </tspan></tspan><tspan
       x="96.148354"
       y="130.11922"
       class="tspan38358">channel</tspan></text>
  <rect
     style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.804157;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2585-09-6-4-55-0-4-88-2-7-20-2"
     width="22.837545"
     height="19.127131"
     x="136.96756"
     y="193.01579" />
  <rect
     style="fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.902064;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2587-9-9-3-6-3-0-76-3-2-1-8"
     width="13.914153"
     height="5.5298657"
     x="141.42929"
     y="190.78386" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.22183px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.151023"
     x="143.53629"
     y="193.85832"
     class="text2591-13-2-7-0-0-9-04-1-1-6-9"><tspan
       class="tspan2589-4-9-3-6-4-1-9-0-3-4-7"
       x="143.53629"
       y="193.85832"
       style="fill:#a3bd8d;fill-opacity:1;stroke-width:0.151023">state</tspan></text>
  <rect
     style="fill:#252627;fill-opacity:1;stroke:#eacb8b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect3667-8-3-7-6-4-6-2-4-9-5-3"
     width="19.980745"
     height="7.0723147"
     x="138.45152"
     y="180.51286"
     ry="1.3051714" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.14183px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.100398"
     x="142.612"
     y="183.07063"
     class="text3673-5-0-2-9-4-2-2-8-5-0-6"><tspan
       class="tspan3671-7-3-1-9-76-5-46-0-3-8-1"
       x="142.612"
       y="183.07063"
       style="fill:#eacb8b;fill-opacity:1;stroke-width:0.100398">interpret</tspan></text>
  <g
     class="g1759-2-3-3-7-2-3-4-0-1-2-7-2"
     transform="matrix(0.36148344,0,0,0.36148344,138.6197,163.16287)">
    <rect
       style="fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.79375;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2332-36-5-3-7-9-9-1-4-2-8-4-5-9"
       width="20.929356"
       height="6.1306024"
       x="15.993655"
       y="58.318031"
       ry="3.0653012" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.264583"
       x="19.708708"
       y="63.471058"
       class="text2336-1-4-8-9-5-6-7-9-3-7-8-8-3"><tspan
         class="tspan2334-06-4-9-4-6-5-5-9-9-3-3-8-1"
         x="19.708708"
         y="63.471058"
         style="stroke-width:0.264583">data</tspan></text>
  </g>
  <rect
     style="fill:#252627;fill-opacity:1;stroke:#be616b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect3667-9-5-9-9-3-6-6-6-7-9-8-9"
     width="19.980745"
     height="7.0723147"
     x="138.45151"
     y="217.15356"
     ry="1.3051714" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.34061px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.109716"
     x="144.12581"
     y="221.55602"
     class="text2336-1-1-1-3-1-5-8-2-0-86-1-2-7-4"><tspan
       class="tspan2334-06-0-7-8-9-5-67-1-5-9-3-6-5-7"
       x="144.12581"
       y="221.55602"
       style="fill:#be616b;fill-opacity:1;stroke-width:0.109716">render</tspan></text>
  <g
     class="g5007-6-4-2-3-7-0-7-4-7-1-8"
     transform="translate(41.75325,48.02171)">
    <path
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.870066;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="path2400-6-6-0-2-1-6-8-2-26-4-5-9-4"
       d="m 124.16837,153.70276 -2.5083,1.44817 v -2.89634 z" />
    <rect
       style="fill:#be616b;fill-opacity:1;stroke:none;stroke-width:0.423106;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect3637-3-5-3-0-5-0-5-9-8-2-6-9-5"
       width="2.5802417"
       height="1.0212411"
       x="119.69323"
       y="153.19214" />
  </g>
  <g
     class="g10945-3-6-9-2-7-4-8-4-3-9-0"
     transform="translate(48.27655,47.63451)">
    <path
       style="fill:none;stroke:#eacb8b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 81.799871,152.68285 c 0,0 0.04456,0 1.077976,0 1.033417,0 0.939932,-1.62801 0.939932,-1.62801 0,0 0,-12.25937 0,-14.04412 0,-1.78476 1.673315,-1.67332 1.673315,-1.67332 h 3.001058"
       class="path10892-6-5-9-6-4-3-98-6-1-4-3" />
    <path
       style="fill:none;stroke:#be616b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 81.799871,155.37719 c 0,0 0.04456,0 1.077976,0 1.033417,0 0.939932,1.62801 0.939932,1.62801 0,0 0,12.25937 0,14.04412 0,1.78476 1.673315,1.67332 1.673315,1.67332 h 3.001058"
       class="path10892-1-1-9-1-9-1-5-8-4-7-6-6" />
  </g>
  <rect
     style="opacity:0.96;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2027-27-1-6-4-9-8-4-1"
     width="18.190741"
     height="8.5138264"
     x="-2.8937035"
     y="197.49326"
     ry="1.0949117" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.6003px;line-height:1.25;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none"
     x="3.6461523"
     y="200.58578"
     class="text2033-1-1-5-1-4-5-27-0"><tspan
       class="tspan2031-5-0-2-5-9-7-3-6"
       x="3.6461523"
       y="200.58578"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';fill:#a3bd8d;fill-opacity:1;stroke-width:0.776997;stroke-miterlimit:4;stroke-dasharray:none">PTY</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.2032px;line-height:1.25;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.658338;stroke-miterlimit:4;stroke-dasharray:none"
     x="-1.0576441"
     y="203.90097"
     class="text2037-8-3-4-2-0-3-32-3"><tspan
       class="tspan2035-8-0-1-4-5-5-1-2"
       x="-1.0576441"
       y="203.90097"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-family:'Space Mono for Powerline';-inkscape-font-specification:'Space Mono for Powerline Bold';fill:#eacb8b;fill-opacity:1;stroke-width:0.658338;stroke-miterlimit:4;stroke-dasharray:none">cat bigfile</tspan></text>
  <rect
     style="opacity:0.96;fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2027-3-7-4-0-3-5-2-3-0"
     width="42.945576"
     height="30.59757"
     x="46.008762"
     y="187.19418"
     ry="2.4579999" />
  <rect
     style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:2.2012;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect3637-03-6-20-8-6-5-3-6"
     width="13.423663"
     height="5.3129892"
     x="18.745897"
     y="199.06798" />
  <path
     style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:4.5265;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="path2400-6-2-1-4-7-2-6-9-1"
     d="m 42.027752,201.96383 -13.04939,7.53408 v -15.06816 z" />
  <rect
     style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:2.84455;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect3637-3-7-3-99-4-5-4-9-5"
     width="13.423663"
     height="8.87251"
     x="18.745897"
     y="197.52757" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:5.64444px;line-height:1.25;font-family:'Space Mono';-inkscape-font-specification:'Space Mono Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;white-space:pre;inline-size:41.3906;fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.265;stroke-miterlimit:4;stroke-dasharray:none"
     x="84.371239"
     y="123.06367"
     class="text9881-9-19-0-9-2-5-7-5-5"
     transform="translate(-34.21799,60.33471)"><tspan
       x="84.371239"
       y="123.06367"
       class="tspan38360">PTY thread</tspan></text>
  <path
     class="path10730-9-0-5-94-2-7-0-64-4"
     style="fill:none;stroke:#eacb8b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
     d="m 85.08535,200.65121 h -0.94927 c -1.42868,0 -1.38529,-1.3853 -1.38529,-1.3853 v -4.5342 c 0,-0.8232 -0.83075,-0.8307 -0.83075,-0.8307 H 74.5924" />
  <g
     class="g6596-7"
     transform="translate(-6.3997901,156.53911)">
    <path
       class="path10730-96-0-4-2-9-7-4-6"
       style="fill:none;stroke:#a3bd8d;stroke-width:0.564999;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
       d="m 56.27748,44.1121 h 0.94928 c 1.42867,0 1.38528,-1.3853 1.38528,-1.3853 v -4.5342 c 0,-0.8232 0.83075,-0.8307 0.83075,-0.8307 h 7.32765" />
    <path
       class="path10794-1-8-0-9-7-0-1-5"
       style="fill:none;stroke:#a3bd8d;stroke-width:0.564999;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:1.13, 0.564999;stroke-dashoffset:0;stroke-opacity:1"
       d="m 56.22535,46.7327 h 0.94927 c 1.42868,0 1.38529,1.3852 1.38529,1.3852 v 4.5342 c 0,0.8232 0.83074,0.8307 0.83074,0.8307 h 4.20798" />
  </g>
  <path
     class="path10794-2-3-4-7-2-0-7-4-6"
     style="fill:none;stroke:#be616b;stroke-width:0.565;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1"
     d="m 85.13748,203.27321 h -0.94927 c -1.42867,0 -1.38529,1.3852 -1.38529,1.3852 v 4.5342 c 0,0.8232 -0.83074,0.8307 -0.83074,0.8307 h -4.20797" />
  <g
     class="g16140-5-2-0-1-7-8-5-9"
     transform="translate(-327.97701,-201.04129)">
    <g
       class="g2115-9-9-8-8-5-09-2-1-6-0-6-4-3"
       transform="matrix(0.41743408,0,0,0.41743408,370.85606,375.51842)">
      <circle
         style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.529167;stroke-opacity:1;stop-color:#000000"
         class="path2080-6-4-0-4-7-6-2-48-0-2-7-3-7"
         cx="45.259174"
         cy="85.380898"
         r="4.3000474" />
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.578573;stroke-opacity:1;stop-color:#000000"
         class="rect2082-9-5-1-6-0-3-0-6-2-4-5-0-4"
         width="0.51719606"
         height="3.5355656"
         x="45.000576"
         y="81.877541"
         ry="0.24326056" />
      <circle
         style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.364369;stroke-opacity:1;stop-color:#000000"
         class="path2084-3-4-7-6-7-8-5-66-2-5-0-4-5"
         cx="45.259174"
         cy="85.380898"
         r="0.55912954" />
      <rect
         style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.484478;stroke-opacity:1;stop-color:#000000"
         class="rect2082-1-3-6-9-7-8-5-5-6-2-7-5-5-2"
         width="0.51719606"
         height="2.4790738"
         x="63.828659"
         y="-74.721771"
         ry="0.25859803"
         transform="rotate(110.5351)" />
    </g>
    <g
       class="g1849-0-8-6-1-2-9-6-2-17-2-8-8-5-5"
       transform="matrix(0.36898333,0,0,0.36898333,389.08337,384.20605)">
      <rect
         style="fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.79375;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="rect2332-36-2-3-0-3-0-7-9-1-9-8-7-7-7-4-4"
         width="20.929356"
         height="6.1306024"
         x="16.0931"
         y="69.982071"
         ry="3.0653012" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:4.17331px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.195624"
         x="18.862219"
         y="74.591988"
         class="text2336-1-1-4-5-9-3-4-3-1-0-2-3-2-0-0-7"><tspan
           class="tspan2334-06-0-0-6-9-5-1-9-5-2-96-6-2-3-9-4"
           x="18.862219"
           y="74.591988"
           style="stroke-width:0.195624">render</tspan></text>
    </g>
    <rect
       style="fill:#a3bd8d;fill-opacity:1;stroke:none;stroke-width:0.238185;stroke-opacity:1;stop-color:#000000"
       class="rect2167-6-5-9-0-4-98-8-59-1-9-9-2-4"
       width="0.3558152"
       height="4.3115063"
       x="563.85455"
       y="72.519592"
       ry="0.12551111"
       transform="rotate(38.732515)" />
    <rect
       style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.564965;stroke-miterlimit:4;stroke-dasharray:1.12993, 0.564965;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2169-4-2-4-0-6-4-3-43-0-1-6-1-3"
       width="18.468237"
       height="5.3369279"
       x="386.13278"
       y="408.49084"
       ry="0.94660914" />
  </g>
  <g
     class="g14145-9-0-3-1-4-5-7-7-3-0"
     transform="translate(-327.97702,131.00546)"
     style="display:inline">
    <rect
       style="fill:none;fill-opacity:1;stroke:#eacb8b;stroke-width:0.456411;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2332-36-3-1-7-0-8-4-296-7-4-9-6-7"
       width="12.034513"
       height="3.5251355"
       x="389.40118"
       y="61.139587"
       ry="1.7625678" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.72145px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.127568;stroke-opacity:1"
       x="392.16412"
       y="63.908745"
       class="text2336-1-6-2-6-6-8-6-4-2-3-6-7-8"><tspan
         class="tspan2334-06-8-8-8-8-3-9-5-7-5-2-5-6"
         x="392.16412"
         y="63.908745"
         style="fill:#eacb8b;fill-opacity:1;stroke:none;stroke-width:0.127568;stroke-opacity:1">data</tspan></text>
  </g>
  <rect
     style="display:inline;opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.323699;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="datapill-animate-rect-8"
     width="8.5351915"
     height="2.5001183"
     x="63.173824"
     y="192.65756"
     ry="1.2500591" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.30186px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.107899"
     x="64.688866"
     y="194.75902"
     class="datapill-animate-text-8"><tspan
       class="tspan2334-06-8-8-0-9-0-7-4-4-3-9-9-1-11-0-4"
       x="64.688866"
       y="194.75902"
       style="stroke-width:0.107899">data</tspan></text>
  <rect
     style="opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.4;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="newdata-yellow-rect-3"
     width="18.190741"
     height="8.5138264"
     x="18.767181"
     y="197.49336"
     ry="1.0949117" />
  <rect
     style="display:inline;opacity:0;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.565;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="render-now-red-box-1"
     width="18.468237"
     height="5.3369279"
     x="58.155773"
     y="207.44955"
     ry="0.94660914" />
  <g
     class="render-now-text-4"
     transform="matrix(0.36898334,0,0,0.36898334,53.644902,183.13872)"
     style="display:inline;opacity:0">
    <rect
       style="fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.79375;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2332-36-2-3-0-3-0-7-0-4-6-2-9"
       width="20.929356"
       height="6.1306024"
       x="16.0931"
       y="69.982071"
       ry="3.0653012" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:6.4052px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.300244"
       x="16.377733"
       y="75.487091"
       class="text2336-1-1-4-5-9-3-4-2-9-0-9-2"><tspan
         class="tspan2334-06-0-0-6-9-5-1-2-1-7-1-0"
         x="16.377733"
         y="75.487091"
         style="stroke-width:0.300244">render now!</tspan></text>
  </g>
  <rect
     style="display:inline;opacity:0;fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.324716;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="renderpill-animate-rect-6"
     width="8.5333099"
     height="2.5164077"
     x="62.83131"
     y="208.83379"
     ry="1.2582039" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:1.70726px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.080028"
     x="64.175453"
     y="210.0197"
     class="renderpill-animate-text-8"
     transform="scale(0.99664827,1.003363)"><tspan
       class="tspan2334-06-0-0-6-9-5-1-9-4-8-9-0-2-3-9-6-9"
       x="64.175453"
       y="210.0197"
       style="stroke-width:0.080028">render</tspan></text>
  <rect
     style="display:inline;opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.456411;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="datapill-2"
     width="12.034513"
     height="3.5251355"
     x="61.42416"
     y="192.14505"
     ry="1.7625678" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.24559px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.152137"
     x="63.560345"
     y="195.10808"
     class="datapilltext-6"><tspan
       class="tspan2334-06-8-8-0-70-5-0-3-0-6"
       x="63.560345"
       y="195.10808"
       style="stroke-width:0.152137">data</tspan></text>
  <rect
     style="opacity:0;fill:#eacb8b;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
     class="state-yellow-box-9"
     width="19.220129"
     height="15.408015"
     x="138.77626"
     y="194.87535" />
  <rect
     style="opacity:0;fill:#be616b;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
     class="state-red-box-0"
     width="19.220129"
     height="15.408015"
     x="138.77626"
     y="194.87535" />
  <g
     class="state-text-first-black-9"
     transform="translate(81.45536,118.35383)"
     style="opacity:0">
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-9-9-1"
       width="16.488413"
       height="0.50623542"
       x="58.686771"
       y="80.686409" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-3-2-7"
       width="16.488413"
       height="0.50623542"
       x="58.686771"
       y="83.972412" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-0-0-7"
       width="11.177862"
       height="0.50623542"
       x="58.686771"
       y="87.258415" />
  </g>
  <g
     class="state-text-first-yellow-1"
     transform="translate(-9.380543,117.29743)">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-9-1"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="81.742805" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-3-5"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="85.028809" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-0-9"
       width="11.177862"
       height="0.50623542"
       x="149.52267"
       y="88.314812" />
  </g>
  <g
     class="state-text-second-yellow-7"
     transform="translate(-6.1438792,156.61305)"
     style="opacity:0">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-76"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="40.875057" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-7"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="44.100468" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-2-3"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="47.325901" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-6"
       width="11.177862"
       height="0.50623542"
       x="146.28601"
       y="50.551311" />
  </g>
  <g
     class="state-text-first-yellow-2-5"
     transform="translate(-9.380543,117.29743)"
     style="opacity:0">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-9-8-6"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="81.742805" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-3-9-3"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="85.028809" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-0-7-9"
       width="11.177862"
       height="0.50623542"
       x="149.52267"
       y="88.314812" />
  </g>
  <g
     class="state-text-first-yellow-on-screen-4"
     transform="translate(27.997422,117.29733)">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-9-8-4-8"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="81.742805" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-3-9-7-1"
       width="16.488413"
       height="0.50623542"
       x="149.52267"
       y="85.028809" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-0-7-8-2"
       width="11.177862"
       height="0.50623542"
       x="149.52267"
       y="88.314812" />
  </g>
  <g
     class="state-text-second-yellow-2-9"
     transform="translate(-6.1438792,156.61305)"
     style="opacity:0">
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-7-3"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="40.875057" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-5-9"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="44.100468" />
    <rect
       style="fill:#eacb8b;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-2-9-0"
       width="16.488413"
       height="0.50623542"
       x="146.28601"
       y="47.325901" />
    <rect
       style="fill:#eacb8b;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-2-8"
       width="11.177862"
       height="0.50623542"
       x="146.28601"
       y="50.551311" />
  </g>
  <g
     class="state-text-second-black-8"
     transform="translate(59.906467,116.71118)"
     style="opacity:0">
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-2-5"
       width="16.488413"
       height="0.50623542"
       x="80.235664"
       y="80.776932" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-6-0"
       width="16.488413"
       height="0.50623542"
       x="80.235664"
       y="84.002342" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.529167;stop-color:#000000"
       class="rect17650-1-2-1-9"
       width="16.488413"
       height="0.50623542"
       x="80.235664"
       y="87.227776" />
    <rect
       style="fill:#232425;fill-opacity:1;stroke-width:0.435695;stop-color:#000000"
       class="rect17650-1-2-7-8-6"
       width="11.177862"
       height="0.50623542"
       x="80.235664"
       y="90.453186" />
  </g>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.64737px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.124096"
     x="21.50132"
     y="202.86131"
     class="text5666-3"><tspan
       sodipodi:role="line"
       class="tspan5664-8"
       style="stroke-width:0.124096"
       x="21.50132"
       y="202.86131">New data</tspan></text>
  <rect
     style="opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="interpret-yellow-box-9"
     width="19.980745"
     height="7.0723147"
     x="138.45152"
     y="180.51286"
     ry="1.3051714" />
  <g
     class="interpret-data-text-8"
     transform="translate(30.56982,120.67219)"
     style="opacity:0">
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.14183px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.100398"
       x="112.04218"
       y="62.636395"
       class="interpret-text-4"><tspan
         class="tspan3671-7-3-1-6-3-8"
         x="112.04218"
         y="62.636395"
         style="fill:#252627;fill-opacity:1;stroke-width:0.100398">interpret</tspan></text>
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.04037px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#252627;fill-opacity:1;stroke:none;stroke-width:0.0956424"
       x="115.17424"
       y="65.672371"
       class="data-text-1"><tspan
         class="tspan2334-06-4-9-4-6-3-5-0"
         x="115.17424"
         y="65.672371"
         style="fill:#252627;fill-opacity:1;stroke-width:0.0956424">data</tspan></text>
  </g>
  <rect
     style="opacity:1;fill:none;fill-opacity:1;stroke:#9eb788;stroke-width:0.777;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2323-7-2-7-7-9-6-07-9-9-1-9-6-6"
     width="16.359676"
     height="15.364467"
     x="99.952934"
     y="193.98222"
     ry="2.4579999" />
  <g
     class="active-render-button-6"
     transform="translate(-41.704996,149.00249)"
     style="opacity:0">
    <rect
       style="fill:#be616b;fill-opacity:1;stroke:#be616b;stroke-width:0.601168;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect3667-9-5-9-9-3-6-6-6-7-9-8-3-2"
       width="19.980745"
       height="7.0723147"
       x="180.15651"
       y="68.15107"
       ry="1.3051714" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:2.34061px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#232425;fill-opacity:1;stroke:none;stroke-width:0.109716"
       x="185.83081"
       y="72.553528"
       class="text2336-1-1-1-3-1-5-8-2-0-86-1-2-7-6-1"><tspan
         class="tspan2334-06-0-7-8-9-5-67-1-5-9-3-6-5-1-7"
         x="185.83081"
         y="72.553528"
         style="fill:#232425;fill-opacity:1;stroke-width:0.109716">render</tspan></text>
  </g>
  <g
     class="blocked"
     style="opacity:0"
     transform="translate(6.6823986,-156.71013)">
    <rect
       style="opacity:0.606453;fill:#232425;fill-opacity:1;stroke:none;stroke-width:0.387259;stop-color:#000000"
       class="rect7898"
       width="94.530838"
       height="33.727234"
       x="-4.6217122"
       y="185.80037" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:14.1806px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:1;fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.664716"
       x="12.928842"
       y="206.90948"
       class="text9724"><tspan
         sodipodi:role="line"
         class="tspan9722"
         style="fill:#7e9fbe;fill-opacity:1;stroke-width:0.664716"
         x="12.928842"
         y="206.90948">Blocked</tspan></text>
  </g>
  <rect
     style="opacity:1;fill:none;fill-opacity:1;stroke:none;stroke-width:1.1774;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;stop-color:#000000"
     class="rect59386"
     width="6.2955599"
     height="3.8284624"
     x="117.99104"
     y="202.5219"
     ry="0.2297287" />
  <g
     class="g24515">
    <g
       class="g20596-5"
       transform="matrix(0.26729758,0,0,0.26729758,77.557268,182.66252)">
      <rect
         style="display:inline;opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.456411;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
         class="datapill-animate-rect-2-6"
         width="12.034513"
         height="3.5251355"
         x="108.37029"
         y="69.326607"
         ry="1.7625678" />
      <text
         xml:space="preserve"
         style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.24559px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.152137"
         x="110.50647"
         y="72.289627"
         class="datapill-animate-text-2-1"><tspan
           class="tspan2334-06-8-8-0-70-5-0-3-0-7-1"
           x="110.50647"
           y="72.289627"
           style="stroke-width:0.152137">data</tspan></text>
    </g>
    <rect
       style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.473337;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="rect2323-7-2-7-7-9-6-07-9-9-1-5-2"
       width="3.5236201"
       height="6.5187435"
       x="106.37096"
       y="196.39203"
       rx="0" />
    <rect
       style="fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.694251;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;stop-color:#000000"
       class="rect59490-0-5"
       width="2.5841849"
       height="3.3565872"
       x="106.8268"
       y="199.08354" />
  </g>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.65133px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.171156"
     x="106.05238"
     y="207.27448"
     class="text62749-1"><tspan
       sodipodi:role="line"
       class="tspan62747-0"
       style="fill:#7e9fbe;fill-opacity:1;stroke-width:0.171156"
       x="106.05238"
       y="207.27448">0%</tspan></text>
  <g
     class="g20596-5-9"
     transform="matrix(0.26729758,0,0,0.26729758,83.969573,26.05435)">
    <rect
       style="display:inline;opacity:0;fill:#eacb8b;fill-opacity:1;stroke:#eacb8b;stroke-width:0.456411;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
       class="datapill-animate-rect-2-6-3"
       width="12.034513"
       height="3.5251355"
       x="108.37029"
       y="69.326607"
       ry="1.7625678" />
    <text
       xml:space="preserve"
       style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.24559px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;display:inline;opacity:0;fill:#000000;fill-opacity:1;stroke:none;stroke-width:0.152137"
       x="110.50647"
       y="72.289627"
       class="datapill-animate-text-2-1-6"><tspan
         class="tspan2334-06-8-8-0-70-5-0-3-0-7-1-0"
         x="110.50647"
         y="72.289627"
         style="stroke-width:0.152137">data</tspan></text>
  </g>
  <rect
     style="fill:none;fill-opacity:1;stroke:#a3bd8d;stroke-width:0.473337;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;stop-color:#000000"
     class="rect2323-7-2-7-7-9-6-07-9-9-1-5-2-6"
     width="3.5236201"
     height="6.5187435"
     x="112.78326"
     y="39.783859"
     rx="0" />
  <rect
     style="fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.894703;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;stop-color:#000000;opacity:0"
     class="onehundred-fill"
     width="2.5841849"
     height="5.5747175"
     x="113.23911"
     y="40.257244" />
  <rect
     style="fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.632667;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;stop-color:#000000;opacity:0"
     class="fifty-fill"
     width="2.5841849"
     height="2.7874999"
     x="113.23911"
     y="43.044464" />
  <rect
     style="fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.774879;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;stop-color:#000000;opacity:0"
     class="seventyfive-fill"
     width="2.5841849"
     height="4.1815"
     x="113.23911"
     y="41.650463" />
  <rect
     style="fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.447363;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;stop-color:#000000;opacity:0"
     class="twentyfive-fill"
     width="2.5841849"
     height="1.39375"
     x="113.23911"
     y="44.438213" />
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.65133px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.171156"
     x="112.4647"
     y="50.666302"
     class="zero-percent"><tspan
       sodipodi:role="line"
       class="tspan62747-0-1"
       style="fill:#7e9fbe;fill-opacity:1;stroke-width:0.171156"
       x="112.4647"
       y="50.666302">0%</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.65133px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.171156"
     x="86.699387"
     y="225.74673"
     class="text62749-1-5"><tspan
       sodipodi:role="line"
       class="tspan62747-0-8"
       style="fill:#7e9fbe;fill-opacity:1;stroke-width:0.171156"
       x="86.699387"
       y="225.74673">100%</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.65133px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.171156"
     x="111.91539"
     y="220.06447"
     class="text62749-1-8"><tspan
       sodipodi:role="line"
       class="tspan62747-0-5"
       style="fill:#7e9fbe;fill-opacity:1;stroke-width:0.171156"
       x="111.91539"
       y="220.06447">50%</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.65133px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.171156"
     x="101.67952"
     y="227.89189"
     class="text62749-1-0"><tspan
       sodipodi:role="line"
       class="tspan62747-0-6"
       style="fill:#7e9fbe;fill-opacity:1;stroke-width:0.171156"
       x="101.67952"
       y="227.89189">75%</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.65133px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.171156"
     x="95.457718"
     y="218.45883"
     class="text62749-1-4"><tspan
       sodipodi:role="line"
       class="tspan62747-0-62"
       style="fill:#7e9fbe;fill-opacity:1;stroke-width:0.171156"
       x="95.457718"
       y="218.45883">25%</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.65133px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.171156"
     x="110.24502"
     y="50.666302"
     class="onehundred-percent"><tspan
       sodipodi:role="line"
       class="tspan62747-0-8-7"
       style="fill:#7e9fbe;fill-opacity:1;stroke-width:0.171156"
       x="110.24502"
       y="50.666302">100%</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.65133px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.171156"
     x="111.39051"
     y="50.666302"
     class="fifty-percent"><tspan
       sodipodi:role="line"
       class="tspan62747-0-5-2"
       style="fill:#7e9fbe;fill-opacity:1;stroke-width:0.171156"
       x="111.39051"
       y="50.666302">50%</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.65133px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.171156"
     x="111.4333"
     y="50.667194"
     class="seventyfive-percent"><tspan
       sodipodi:role="line"
       class="tspan62747-0-6-2"
       style="fill:#7e9fbe;fill-opacity:1;stroke-width:0.171156"
       x="111.4333"
       y="50.667194">75%</tspan></text>
  <text
     xml:space="preserve"
     style="font-style:normal;font-variant:normal;font-weight:bold;font-stretch:normal;font-size:3.65133px;line-height:1.25;font-family:'Roboto Mono for Powerline';-inkscape-font-specification:'Roboto Mono for Powerline, Bold';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-feature-settings:normal;text-align:start;letter-spacing:0px;word-spacing:0px;writing-mode:lr-tb;text-anchor:start;opacity:0;fill:#7e9fbe;fill-opacity:1;stroke:none;stroke-width:0.171156"
     x="111.43241"
     y="50.667194"
     class="twentyfive-percent"><tspan
       sodipodi:role="line"
       class="tspan62747-0-62-7"
       style="fill:#7e9fbe;fill-opacity:1;stroke-width:0.171156"
       x="111.43241"
       y="50.667194">25%</tspan></text>
</svg>

  </figure>
</div>
<script src=/img/performance-3.js></script> 

<h3 id="measuring-the-performance-improvements">Measuring the performance improvements</h3>
<p>Let&rsquo;s come back to our initial performance test.</p>
<p>Here are the numbers when running <code>hyperfine --show-output &quot;cat /tmp/bigfile&quot;</code> (pane size: 59 lines, 104 cols):</p>
<pre tabindex="0"><code># Zellij before this fix
Time (mean  ):     19.175 s   0.347 s    [User: 4.5 ms, System: 2754.7 ms]
Range (min  max):   18.647 s  19.803 s    10 runs

# Zellij after this fix
Time (mean  ):      9.658 s   0.095 s    [User: 2.2 ms, System: 2426.2 ms]
Range (min  max):    9.433 s   9.761 s    10 runs

# Tmux
Time (mean  ):      5.593 s   0.055 s    [User: 1.3 ms, System: 2260.6 ms]
Range (min  max):    5.526 s   5.678 s    10 runs
</code></pre><p>Definitely an improvement, but looking at the numbers from Tmux we see we can still do better.</p>
<h2 id="second-problem-improve-the-performance-of-rendering-and-data-parsing">Second problem: improve the performance of rendering and data parsing</h2>
<p>Now that we tied our pipeline to the screen thread, we should be able to make the whole thing run faster if we improve the performance of the two relevant jobs in the screen thread: parsing the data and rendering it to the user&rsquo;s terminal.</p>
<h3 id="data-parsing-faster">Data parsing faster</h3>
<p>The data parsing part of the screen thread has the role of taking ANSI/VT instructions (eg. <code>\033[10;2H\033[36mHi there!</code>) and turning them into a data structure that can be controlled by Zellij.</p>
<p>Here&rsquo;s the relevant parts of these data structures:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">struct</span> <span class="nc">Grid</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">viewport</span>: <span class="nb">Vec</span><span class="o">&lt;</span><span class="n">Row</span><span class="o">&gt;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">cursor</span>: <span class="nc">Cursor</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">width</span>: <span class="kt">usize</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">height</span>: <span class="kt">usize</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">struct</span> <span class="nc">Row</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">columns</span>: <span class="nb">Vec</span><span class="o">&lt;</span><span class="n">TerminalCharacter</span><span class="o">&gt;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">struct</span> <span class="nc">Cursor</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">x</span>: <span class="kt">usize</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">y</span>: <span class="kt">usize</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cp">#[derive(Clone, Copy)]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">struct</span> <span class="nc">TerminalCharacter</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">character</span>: <span class="kt">char</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">styles</span>: <span class="nc">CharacterStyles</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>The real world version can be found <a href="https://github.com/zellij-org/zellij/blob/50d049a0edd2b342b4c6e9e279d0be77c2c5398d/zellij-server/src/panes/grid.rs">here</a> and <a href="https://github.com/zellij-org/zellij/blob/50d049a0edd2b342b4c6e9e279d0be77c2c5398d/zellij-server/src/panes/terminal_character.rs">here</a>.</p>
<h4 id="preallocating-rows">Preallocating rows</h4>
<p>While the full role of the parser and all the past and future optimizations therein are out of scope for this post, I&rsquo;d like to go into a couple of optimizations that we made at this point in time that were quite significant after the pipeline improvements above.</p>
<p>Let&rsquo;s start by looking at <code>Row</code> and how we add characters to it. This is one of the most frequent actions the parser performs. Especially adding characters at the end of the row.
This action mainly involves pushing those <code>TerminalCharacter</code>s into the <code>columns</code> vector of the row. Each such push involves a heap allocation to resize the vector<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>, which is an expensive operation performance-wise. We could gain some performance by preallocating the columns vector every time we create a row or resize the terminal pane.</p>
<p>So we change the Row&rsquo;s constructor from this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">impl</span><span class="w"> </span><span class="n">Row</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">new</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nc">Self</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Row</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">columns</span>: <span class="nb">Vec</span>::<span class="n">new</span><span class="p">(),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>To this:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">impl</span><span class="w"> </span><span class="n">Row</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">new</span><span class="p">(</span><span class="n">width</span>: <span class="kt">usize</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Self</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">Row</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">columns</span>: <span class="nb">Vec</span>::<span class="n">with_capacity</span><span class="p">(</span><span class="n">width</span><span class="p">),</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>Here&rsquo;s <a href="https://github.com/zellij-org/zellij/blob/50d049a0edd2b342b4c6e9e279d0be77c2c5398d/zellij-server/src/panes/grid.rs#L1861">the real world version</a>.</p>
<h4 id="caching-character-widths">Caching character widths</h4>
<p>Some characters take up more space than others. Examples of such characters are East Asian letters or emoji. Zellij uses the excellent <a href="https://crates.io/crates/unicode-width">unicode-width</a> crate to figure out the width of each character.</p>
<p>When adding characters to a line, a terminal emulator needs to know the current width of the line in order to decide if it should line wrap the character to the next line or not.
So it needs to constantly be looking at and adding up the widths of the previous characters in the line.</p>
<p>Since we need to find the width of a single character many times, we could gain some speed by caching the result of calling <code>c.width()</code> on the <code>TerminalCharacter</code> struct.</p>
<p>So then this function (for example):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cp">#[derive(Clone, Copy)]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">struct</span> <span class="nc">TerminalCharacter</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">character</span>: <span class="kt">char</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">styles</span>: <span class="nc">CharacterStyles</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">impl</span><span class="w"> </span><span class="n">Row</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">width</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">usize</span> <span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">terminal_character</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">columns</span><span class="p">.</span><span class="n">iter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">width</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">terminal_character</span><span class="p">.</span><span class="n">character</span><span class="p">.</span><span class="n">width</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">width</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>Becomes much faster with caching as:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cp">#[derive(Clone, Copy)]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">struct</span> <span class="nc">TerminalCharacter</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">character</span>: <span class="kt">char</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">styles</span>: <span class="nc">CharacterStyles</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">width</span>: <span class="kt">usize</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">impl</span><span class="w"> </span><span class="n">Row</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">width</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">usize</span> <span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">terminal_character</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">columns</span><span class="p">.</span><span class="n">iter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">width</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">terminal_character</span><span class="p">.</span><span class="n">width</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">width</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>Here&rsquo;s <a href="https://github.com/zellij-org/zellij/blob/50d049a0edd2b342b4c6e9e279d0be77c2c5398d/zellij-server/src/panes/grid.rs#L1892">the real world version</a>.</p>
<h3 id="rendering-faster">Rendering faster</h3>
<p>The rendering part of the Screen thread essentially does the opposite action of the data parsing part. It takes the state of each pane, represented by the data structures described above, and turns it into ANSI/VT instructions to be sent to and interpreted by the user&rsquo;s own terminal emulator.</p>
<p>The <code>render</code> loops over the viewport in the <code>Grid</code>, turning all the characters into ANSI/VT instructions that represent their style and location and sends them to the user&rsquo;s terminal, there to replace what was previously placed there in the previous render.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="k">fn</span> <span class="nf">render</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">String</span> <span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">vte_output</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">String</span>::<span class="n">new</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">character_styles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CharacterStyles</span>::<span class="n">new</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">get_x</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">get_y</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">line_index</span><span class="p">,</span><span class="w"> </span><span class="n">line</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">grid</span><span class="p">.</span><span class="n">viewport</span><span class="p">.</span><span class="n">iter</span><span class="p">().</span><span class="n">enumerate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">vte_output</span><span class="p">.</span><span class="n">push_str</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="c1">// goto row/col and reset styles
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">            </span><span class="o">&amp;</span><span class="fm">format!</span><span class="p">(</span><span class="s">&#34;</span><span class="se">\u{1b}</span><span class="s">[</span><span class="si">{}</span><span class="s">;</span><span class="si">{}</span><span class="s">H</span><span class="se">\u{1b}</span><span class="s">[m&#34;</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">line_index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">col</span><span class="p">,</span><span class="w"> </span><span class="n">t_character</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">line</span><span class="p">.</span><span class="n">iter</span><span class="p">().</span><span class="n">enumerate</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">styles_diff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">character_styles</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="n">update_and_return_diff</span><span class="p">(</span><span class="o">&amp;</span><span class="n">t_character</span><span class="p">.</span><span class="n">styles</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nb">Some</span><span class="p">(</span><span class="n">new_styles</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">styles_diff</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="c1">// if this character&#39;s styles are different
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">                </span><span class="c1">// from the previous, we update the diff here
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">                </span><span class="n">vte_output</span><span class="p">.</span><span class="n">push_str</span><span class="p">(</span><span class="o">&amp;</span><span class="n">new_styles</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">vte_output</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">t_character</span><span class="p">.</span><span class="n">character</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="c1">// we clear the character styles after each line
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">        </span><span class="c1">// in order not to leak styles from the pane to our left
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">        </span><span class="n">character_styles</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">vte_output</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span></code></pre></div><p>Here&rsquo;s <a href="https://github.com/zellij-org/zellij/blob/4b7fe3ca7b095968bd34b24949de790a4d8af28e/zellij-server/src/panes/terminal_pane.rs#L153">the real world version</a>.</p>
<p>Writing to STDOUT is a costly operation. We can improve our performance by limiting the amount of instructions we write to the user&rsquo;s terminal.
In order to do this, we create an output buffer. This buffer essentially keeps track of the parts of the viewport that have changed since the last render. Then when we render, we cherry pick those changed parts from the <code>Grid</code> and send only them to stdout.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-rust" data-lang="rust"><span class="line"><span class="cl"><span class="cp">#[derive(Debug)]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">pub</span><span class="w"> </span><span class="k">struct</span> <span class="nc">CharacterChunk</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="n">terminal_characters</span>: <span class="nb">Vec</span><span class="o">&lt;</span><span class="n">TerminalCharacter</span><span class="o">&gt;</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="n">x</span>: <span class="kt">usize</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="n">y</span>: <span class="kt">usize</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="cp">#[derive(Clone, Debug)]</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">pub</span><span class="w"> </span><span class="k">struct</span> <span class="nc">OutputBuffer</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="n">changed_lines</span>: <span class="nb">Vec</span><span class="o">&lt;</span><span class="kt">usize</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="c1">// line index
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="w">    </span><span class="n">should_update_all_lines</span>: <span class="kt">bool</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">impl</span><span class="w"> </span><span class="n">OutputBuffer</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">update_line</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">line_index</span>: <span class="kt">usize</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="bp">self</span><span class="p">.</span><span class="n">changed_lines</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">line_index</span><span class="p">);</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">clear</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="bp">self</span><span class="p">.</span><span class="n">changed_lines</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">pub</span><span class="w"> </span><span class="k">fn</span> <span class="nf">changed_chunks_in_viewport</span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">viewport</span>: <span class="kp">&amp;</span><span class="p">[</span><span class="n">Row</span><span class="p">],</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Vec</span><span class="o">&lt;</span><span class="n">CharacterChunk</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">line_changes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="p">.</span><span class="n">changed_lines</span><span class="p">.</span><span class="n">to_vec</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">line_changes</span><span class="p">.</span><span class="n">sort_unstable</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">line_changes</span><span class="p">.</span><span class="n">dedup</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">changed_chunks</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Vec</span>::<span class="n">with_capacity</span><span class="p">(</span><span class="n">line_changes</span><span class="p">.</span><span class="n">len</span><span class="p">());</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="n">line_index</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">line_changes</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">terminal_characters</span>: <span class="nb">Vec</span><span class="o">&lt;</span><span class="n">TerminalCharacter</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">viewport</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">line_index</span><span class="p">).</span><span class="n">unwrap</span><span class="p">().</span><span class="n">columns</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="n">iter</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="n">copied</span><span class="p">()</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="p">.</span><span class="n">collect</span><span class="p">();</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="n">changed_chunks</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">CharacterChunk</span><span class="w"> </span><span class="p">{</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">x</span>: <span class="mi">0</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">y</span>: <span class="nc">line_index</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">                </span><span class="n">terminal_characters</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="p">});</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">        </span><span class="n">changed_chunks</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="p">}</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">}}</span><span class="w">
</span></span></span></code></pre></div><p>Here&rsquo;s <a href="https://github.com/zellij-org/zellij/blob/50d049a0edd2b342b4c6e9e279d0be77c2c5398d/zellij-server/src/panes/grid.rs#L204">the real world version</a>.</p>
<p>The current implementation only deals with full line changes. It can be further optimized to only send the part or parts of a line that changed, but when attempting that I found that it increases the complexity significantly without providing a very significant gain in performance.</p>
<p>So, let&rsquo;s look at the performance we&rsquo;ve gained after all these improvements:</p>
<p>The results of running <code>hyperfine --show-output &quot;cat /tmp/bigfile&quot;</code> after the fixes: (pane size: 59 lines, 104 cols)</p>
<pre tabindex="0"><code># Zellij before all fixes
Time (mean  ):     19.175 s   0.347 s    [User: 4.5 ms, System: 2754.7 ms]
Range (min  max):   18.647 s  19.803 s    10 runs

# Zellij after the first fix
Time (mean  ):      9.658 s   0.095 s    [User: 2.2 ms, System: 2426.2 ms]
Range (min  max):    9.433 s   9.761 s    10 runs

# Zellij after the second fix (includes both fixes)
Time (mean  ):      5.270 s   0.027 s    [User: 2.6 ms, System: 2388.7 ms]
Range (min  max):    5.220 s   5.299 s    10 runs

# Tmux
Time (mean  ):      5.593 s   0.055 s    [User: 1.3 ms, System: 2260.6 ms]
Range (min  max):    5.526 s   5.678 s    10 runs
</code></pre><p>And here we have it. This puts us on par with existing and established terminal multiplexers, and while there&rsquo;s definitely still room for improvement, it provides for quite a decent and pleasant user experience.</p>
<h1 id="conclusion">Conclusion</h1>
<p>The test we used to measure performance, <code>cat</code>ing a big file, only measures performance in a very specific circumstance. There are other scenarios in which the performance of Zellij lacks or shines. It&rsquo;s also important to note that because we are measuring the performance of full apps in a relatively complex and not 100% sterile environment, the measurements in this post should be regarded as loose signposts rather than exact measurements.</p>
<p>Zellij does not claim to be faster or more performant than any other software. Performance-wise, it only uses other software as an inspiration and something to aspire to.</p>
<p>If you found any error in this post, would like to offer a correction, your ideas, or feedback - feel free to reach out to <a href="mailto:aram@poor.dev">aram@poor.dev</a>.</p>
<p>Thank you for reading.</p>
<h1 id="links">Links</h1>
<ul>
<li><a href="https://github.com/zellij-org/zellij/pull/523">First PR of the backpressure implementation</a></li>
<li><a href="https://github.com/zellij-org/zellij/pull/536">Second PR of the backpressure implementation</a></li>
<li><a href="https://github.com/zellij-org/zellij/pull/567">The PR improving the data and render performance</a></li>
</ul>
<h1 id="credits">Credits</h1>
<ul>
<li><a href="https://github.com/kxt">Tams Kovcs</a> - for troubleshooting the MPSC channel overflow and implementing the backpressure, as well as reviewing this post</li>
<li><a href="https://github.com/kunalmohan">Kunal Mohan</a> - for reviewing and helping to integrate the backpressure implementation, as well as reviewing this post</li>
<li><a href="https://github.com/imsnif">Aram Drevekenin</a> - for troubleshooting and implementing the data/render improvements</li>
</ul>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>As pointed out on <a href="https://www.reddit.com/r/rust/comments/ong1gg/how_we_improved_the_performance_of_our_rust_app/">Reddit</a> by <a href="https://www.reddit.com/user/luminousrhinoceros/">luminousrhinoceros</a>, this is not 100% accurate. A <code>Vec</code> doubles its capacity whenever one pushes an element that exceeds its current capacity. Still a costly operation, but not one that happens on every single push.&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

  </div>
  
  <div class="pagination">
    <div class="pagination__title">
      <span
        class="pagination__title-h"></span>
    </div>
  </div>
  

</div>

  </div>

  
    <footer class="footer">
</footer>

<script src="https://poor.dev/assets/main.js"></script>

  
</div>

</body>
</html>
